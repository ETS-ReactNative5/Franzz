{"version":3,"sources":["utils/config.js","hooks/useField.js","service/authService.js","components/Landing/Login/NormalLogin.js","components/Landing/Login/Username.js","components/Landing/Login/GoogleLogin.js","components/Landing/Landing.js","service/channelService.js","service/mapService.js","components/Home/ChannelList/NewChannelModal.js","components/Home/ChannelList/ChannelItem.js","components/Home/ChannelList/ChannelList.js","components/Home/Channel/Container/Chat/Message.js","components/Home/Channel/Container/Chat/TextContainer.js","hooks/useHighlightClass.js","components/Home/Channel/Container/Chat/Input.js","components/Home/Channel/Modules/Photos/AlbumForm.js","components/Home/Channel/Modules/Photos/PhotoItem.js","components/Home/Channel/Modules/Photos/galleryDisplay.js","components/Home/Channel/Modules/Photos/Album.js","components/Home/Channel/Modules/Photos/AlbumDisplay.js","components/Home/Channel/Modules/Photos/ImageBox.js","components/Home/Channel/Modules/VideoSync/YoutubeVideoPlayer.js","components/Home/Home.js","components/Home/Channel/Modules/StalkerMap/StalkerMap.js","components/Home/Channel/Modules/VideoSync/YoutubeSync.js","components/Home/Channel/Modules/Canvas/Canvas.js","components/Navbar/GuestRegisterBanner.js","components/Home/Channel/Container/Chat/Chat.js","components/Home/Channel/ChannelUI/InviteLink.js","components/Home/UserList/UserItem.js","components/Home/UserList/UserList.js","components/Home/Channel/ChannelUI/RightUI.js","components/Home/Channel/Channel.js","components/Home/PopUpToast.js","hooks/useChat.js","hooks/useYoutube.js","components/Navbar/NavBar.js","App.js","index.js","components/Home/Channel/Modules/Scripts/PopUpBoxScript.js"],"names":["module","exports","API_ENDPOINT","GOOGLE_CLIENT_ID","GOOGLE_API_KEY","serverURL","useField","type","useState","value","setValue","onChange","e","target","reset","setLocalStorage","data","error","token","username","guest","userID","window","localStorage","setItem","login","loginObj","a","axios","post","res","register","registerObj","config","headers","authorization","guestLogin","guestObj","NormalLogin","setState","email","password","handleLogin","preventDefault","auth","then","loggedIn","prev","getItem","currentUser","className","TextField","placeholder","label","variant","undefined","onKeyPress","key","labal","Button","onClick","Username","GoogleLoginButton","clientId","buttonText","onSuccess","googleData","accessToken","success","console","log","onFailure","err","cookiePolicy","Landing","id","GoogleLogin","getUserData","get","getInvite","channelID","getLocation","updateLocation","location","NewChannelModal","ChannelItem","name","selectCurrentChannel","to","ListItem","button","ListItemAvatar","Avatar","length","slice","ChannelList","channelIdNamePair","toggleForm","channelList","map","pair","Divider","List","Message","message","video","image","isCurrent","toggler","changeToggle","sources","cloudName","publicId","width","controls","src","ReactEmoji","emojify","TextContainer","messages","deleteMessage","channelId","emitSendMessage","initialMode","highlightClass","change","changeHighlightClass","eventName","useChangeHighlightClass","showProgress","toggleProgress","preventDefaults","stopPropagation","uploadFile","file","albumName","viewUpdatedAlbum","url","formData","FormData","append","path","replace","fetch","method","body","json","result","setTimeout","catch","handleDrop","files","forEach","handleFiles","dataTransfer","formattedMessages","msg","created","user","userId","boxEvent","onDragEnter","onDragLeave","onDragOver","onDrop","LinearProgress","Input","setMessage","channel","setShowEmojiPicker","sendFileMessage","sendMessage","multiple","accept","htmlFor","AlbumForm","newAlbum","viewAlbum","album","originalName","fields","changeFields","previewFile","reader","FileReader","readAsDataURL","onloadend","img","document","createElement","getElementById","appendChild","handleOnChange","event","pathName","viewAlbums","onSubmit","PhotoItem","fileType","showSlide","slide","GalleryDisplay","title","isAlbum","addPhotos","openLightboxOnSlide","changeLinks","photos","setPhotos","useEffect","resources","allPhotos","allImages","push","public_id","publicKey","resource_type","images","column","imageLinks","Album","cover","setCover","resourceType","AlbumDisplay","albums","setAlbums","folders","allAlbums","ImageBox","lightboxController","setLightboxController","view","changeView","folderPath","changePath","changeTitle","newView","v","albumPath","number","onMouseDown","mouseDownFunction","player","socket","mapStyles","height","position","markerStyle","marginTop","imgStyle","Marker","style","alt","rand","coord","Math","round","random","StalkerMap","locations","center","locationMarkers","lat","lng","bootstrapURLKeys","zoom","YoutubeVideoPlayer","currentVideo","changeVideoState","paused","played","syncVideo","timeStamp","b","pauseVideo","playVideo","abs","getCurrentTime","seekTo","YouTube","videoId","opts","playerVars","autoplay","onReady","onStateChange","state","YoutubeSync","videoStates","newUrl","setNewUrl","split","ampersandPosition","indexOf","substring","handleSubmit","Canvas","props","isPainting","userStrokeStyle","guestStrokeStyle","line","prevPos","offsetX","offsetY","bind","onMouseMove","endPaintEvent","sendLine","this","canvas","ctx","getContext","lineJoin","lineCap","lineWidth","lines","Object","values","paint","start","stop","nativeEvent","offSetData","positionData","concat","sendPaintData","currPos","strokeStyle","x","y","beginPath","moveTo","lineTo","stroke","ref","background","onMouseLeave","onMouseUp","Component","GuestRegisterBanner","show","setShow","handleClose","handleRegister","registered","role","tabIndex","Modal","onHide","Header","closeButton","Title","Body","Footer","Chat","emitDeleteMessage","moduleView","showEmojiPicker","imageBox","stalkerMap","viewState","canvasBox","display","onEmojiClick","emojiObject","emoji","InviteLink","ready","link","invite","setInvite","channelService","defaultValue","text","StyledBadgeOnline","withStyles","theme","badge","backgroundColor","color","boxShadow","palette","paper","top","left","borderRadius","animation","border","content","transform","opacity","Badge","StyledBadgeOffline","useStyles","makeStyles","root","margin","spacing","UserItem","online","classes","overlap","anchorOrigin","vertical","horizontal","UserList","userStatus","userListContainer","element","RightUI","userList","aria-label","Channel","isGuest","PopupToast","emitCreateChannel","emitJoinChannel","channelName","channelLink","createChannel","joinChannel","textAlign","fontSize","Home","updateMaps","locationObj","emit","currentChannel","messageObj","newMessageObj","channelStates","joinChannelObj","channelData","createChannelObj","request","JSON","stringify","useChat","videoObj","timeObj","time","useYoutube","lineObj","channels","keys","s","newChannelForm","channelItems","users","reduce","obj","ele","io","on","currentChannelLoaded","loaded","mapService","navigator","geolocation","watchPosition","updatedLocations","off","exact","from","NavBar","logOut","App","clear","render","ReactDOM","mousePosition","box","boxHeight","resize","dx","parseInt","getComputedStyle","addEventListener","removeEventListener"],"mappings":"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","file":"static/js/main.1f21f6ec.chunk.js","sourcesContent":["const API_ENDPOINT = 'https://arcane-bastion-72484.herokuapp.com/api';\nconst GOOGLE_CLIENT_ID = '70428371004-nsjuc02pvd1lj3iooo72ulc9e6qtpqod.apps.googleusercontent.com';\nconst serverURL = 'https://arcane-bastion-72484.herokuapp.com';\n// const serverURL = 'http://localhost:8001';\nconst GOOGLE_API_KEY = 'AIzaSyBri0PKsTN8-kTlzAROVisAsALmAryij_A';\n\nmodule.exports = {\n  API_ENDPOINT,\n  GOOGLE_CLIENT_ID,\n  GOOGLE_API_KEY,\n  serverURL,\n};\n","import { useState } from 'react';\n\n// eslint-disable-next-line import/prefer-default-export\nexport const useField = (type) => {\n  const [value, setValue] = useState('');\n\n  const onChange = (e) => {\n    setValue(e.target.value);\n  };\n\n  const reset = () => {\n    setValue('');\n  };\n\n  return {\n    type,\n    onChange,\n    value,\n    reset,\n  };\n};\n","/* eslint-disable import/prefer-default-export */\nimport axios from 'axios';\n\nimport { serverURL } from '../utils/config';\n\nconst setLocalStorage = (data) => {\n  const {\n    error, token, username, guest, userID,\n  } = data;\n  if (error) {\n    return false;\n  }\n  window.localStorage.setItem('authorization', token);\n  window.localStorage.setItem('username', username);\n  window.localStorage.setItem('guest', guest);\n  window.localStorage.setItem('userID', userID);\n  return true;\n};\n\nconst login = async (loginObj) => {\n  const res = await axios.post(`${serverURL}/api/auth/login`, loginObj);\n  return setLocalStorage(res.data);\n};\n\nconst register = async (registerObj) => {\n  const config = {\n    headers: { authorization: window.localStorage.authorization },\n  };\n  const res = await axios.post(`${serverURL}/api/auth/register`, registerObj, config);\n  return setLocalStorage(res.data);\n};\n\nconst guestLogin = async (guestObj) => {\n  const res = await axios.post(`${serverURL}/api/auth/guest`, guestObj);\n  return setLocalStorage(res.data);\n};\n\nexport default {\n  register,\n  guestLogin,\n  login,\n  setLocalStorage,\n};\n","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport { useField } from '../../../hooks/useField';\nimport auth from '../../../service/authService';\n\nconst NormalLogin = ({ setState }) => {\n  const email = useField('text');\n  const password = useField('password');\n  const handleLogin = (e) => {\n    e.preventDefault();\n    const loginObj = {\n      email: email.value,\n      password: password.value,\n    };\n    auth\n      .login(loginObj)\n      .then((loggedIn) => {\n        if (loggedIn) {\n          setState((prev) => ({\n            ...prev,\n            authorization: window.localStorage.getItem('authorization'),\n            username: window.localStorage.getItem('username'),\n            guest: window.localStorage.getItem('guest'),\n            currentUser: window.localStorage.getItem('userID'),\n          }));\n        }\n      });\n  };\n\n  return (\n    <div className=\"normalLogin\">\n      <form>\n        <TextField\n          placeholder=\"email\"\n          label=\"E-mail\"\n          // id=\"outlined-basic\"\n          variant=\"outlined\"\n          {...email}\n          reset={undefined}\n          onKeyPress={(e) => (e.key === 'Enter' ? handleLogin(e) : null)}\n        />\n        <TextField\n          placeholder=\"password\"\n          labal=\"Password\"\n          // id=\"outlined-basic\"\n          variant=\"outlined\"\n          {...password}\n          reset={undefined}\n          onKeyPress={(e) => (e.key === 'Enter' ? handleLogin(e) : null)}\n        />\n        <Button\n          variant=\"outlined\"\n          type=\"button\"\n          onClick={handleLogin}\n        >\n          Login\n        </Button>\n      </form>\n    </div>\n  );\n};\n\nexport default NormalLogin;\n","/* eslint-disable react/no-unescaped-entities */\nimport React from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport { useField } from '../../../hooks/useField';\nimport auth from '../../../service/authService';\n\nconst Username = ({ setState }) => {\n  const username = useField('text');\n  const handleLogin = async (e) => {\n    e.preventDefault();\n    const guestObj = {\n      username: username.value,\n    };\n    auth\n      .guestLogin(guestObj)\n      .then((loggedIn) => {\n        if (loggedIn) {\n          setState((prev) => ({\n            ...prev,\n            authorization: window.localStorage.getItem('authorization'),\n            username: window.localStorage.getItem('username'),\n            currentUser: window.localStorage.getItem('userID'),\n            guest: window.localStorage.getItem('guest'),\n          }));\n        }\n      });\n  };\n\n  return (\n    <div className=\"usernameLogin\">\n      <form>\n        <TextField\n          placeholder=\"username\"\n          // id=\"outlined-basic\"\n          variant=\"outlined\"\n          label=\"Username\"\n          {...username}\n          reset={undefined}\n          onKeyPress={(e) => (e.key === 'Enter' ? handleLogin(e) : null)}\n        />\n        <Button variant=\"outlined\" onClick={(e) => handleLogin(e)}>\n          guest login\n        </Button>\n      </form>\n    </div>\n  );\n};\n\nexport default Username;\n","import React from 'react';\nimport axios from 'axios';\nimport { GoogleLogin } from 'react-google-login';\n\nimport auth from '../../../service/authService';\nimport { GOOGLE_CLIENT_ID, serverURL } from '../../../utils/config';\n\nconst GoogleLoginButton = ({ setState }) => {\n  const onSuccess = (googleData) => {\n    const { accessToken } = googleData;\n    const config = {\n      headers: { authorization: window.localStorage.authorization },\n    };\n    axios\n      .post(`${serverURL}/api/auth/google`, { accessToken }, config)\n      .then((res) => {\n        const {\n          success, error, token, username, guest, userID,\n        } = res.data;\n        if (success) {\n          auth.setLocalStorage({\n            token, username, guest, userID,\n          });\n          setState((prev) => ({\n            ...prev,\n            authorization: window.localStorage.getItem('authorization'),\n            username: window.localStorage.getItem('username'),\n            guest: localStorage.getItem('guest'),\n            currentUser: localStorage.getItem('userID'),\n          }));\n        } else {\n          console.log(error);\n        }\n      });\n  };\n\n  const onFailure = (err) => {\n    console.log(err);\n  };\n\n  return (\n    <GoogleLogin\n      className=\"googleLogin\"\n      clientId={GOOGLE_CLIENT_ID}\n      buttonText=\"Google Login\"\n      onSuccess={onSuccess}\n      onFailure={onFailure}\n      cookiePolicy=\"single_host_origin\"\n    />\n  );\n};\n\nexport default GoogleLoginButton;\n","import React from 'react';\nimport NormalLogin from './Login/NormalLogin';\nimport Username from './Login/Username';\nimport GoogleLogin from './Login/GoogleLogin';\n\nconst Landing = ({ setState }) => (\n  <section className=\"landingContainer\">\n    <div className=\"landingPage\">\n      <h1 id=\"app-title\">Franz</h1>\n      <p id=\"slogan\">Stay in touch, no matter where you are in the world.</p>\n      <Username setState={setState} />\n      <NormalLogin setState={setState} />\n      <GoogleLogin setState={setState} />\n    </div>\n  </section>\n);\n\nexport default Landing;\n","import axios from 'axios';\n\nimport { serverURL } from '../utils/config';\n\nconst getUserData = async () => {\n  const config = {\n    headers: { authorization: window.localStorage.authorization },\n  };\n  const res = await axios.get(`${serverURL}/api/channel/initialize`, config);\n  return res.data;\n};\n\nconst getInvite = async (channelID) => {\n  const config = {\n    headers: { authorization: window.localStorage.authorization },\n  };\n  const res = await axios.get(`${serverURL}/api/channel/invite/${channelID}`, config);\n  return res.data;\n};\n\nexport default {\n  getUserData,\n  getInvite,\n};\n","import axios from 'axios';\n\nimport { GOOGLE_API_KEY } from '../utils/config';\n\nconst getLocation = async (updateLocation) => {\n  axios\n    .post(`https://www.googleapis.com/geolocation/v1/geolocate?key=${GOOGLE_API_KEY}`)\n    .then((res) => {\n      const { location } = res.data;\n      updateLocation(location);\n    });\n};\n\nexport default {\n  getLocation,\n};\n","import React from 'react';\n\nconst NewChannelModal = () => (\n  <div id=\"noChannelPlaceholder\">\n    <h1 className=\"newChannelHeader\">Create/join a channel to get started.</h1>\n  </div>\n);\n\nexport default NewChannelModal;\n","/* eslint-disable jsx-a11y/click-events-have-key-events */\n/* eslint-disable jsx-a11y/no-static-element-interactions */\n/* eslint-disable react/prop-types */\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport Avatar from '@material-ui/core/Avatar';\nimport ImageIcon from '@material-ui/icons/Image';\n\nconst ChannelItem = ({ name, id, selectCurrentChannel }) => {\n\n\n  return (\n    <Link className =\"channelLink\"\n      to={`/channel/${id}`}\n      onClick={() => selectCurrentChannel(id)}\n    >\n      <ListItem button onClick={() => selectCurrentChannel(id)}>\n        <ListItemAvatar>\n          <Avatar>\n            <ImageIcon />\n          </Avatar>\n        </ListItemAvatar>\n        {name.length < 11 ? name : name.slice(0,11) + \"...\"}\n      </ListItem>\n    </Link>\n  );\n};\n\nexport default ChannelItem;\n","/* eslint-disable react/prop-types */\nimport React from 'react';\nimport List from '@material-ui/core/List';\nimport Divider from '@material-ui/core/Divider';\nimport ChannelItem from './ChannelItem';\n\n// import './channelList.css';\n\nconst ChannelList = ({\n  selectCurrentChannel, channelIdNamePair, toggleForm,\n}) => {\n  const channelList = channelIdNamePair.map((pair) => {\n    const { name, id } = pair;\n    return (\n      <div key={id}>\n        <li className=\"channelItems\">\n          <ChannelItem\n            key={id}\n            name={name}\n            id={id}\n            selectCurrentChannel={selectCurrentChannel}\n          />\n        </li>\n        <Divider />\n      </div>\n    );\n  });\n\n  return (\n    <div className=\"leftBarUI\">\n      <div id=\"leftBarTitle\">\n        <button type=\"button\" id=\"create-channel\" onClick={() => toggleForm(true)}>+ Create/Join a channel</button>\n      </div>\n      <div className=\"channelList\">\n        <List>\n          {channelList}\n        </List>\n      </div>\n    </div>\n  );\n};\n\nexport default ChannelList;\n","/* eslint-disable react/prop-types */\n/* eslint-disable jsx-a11y/media-has-caption */\nimport React, { useState } from 'react';\nimport ReactEmoji from 'react-emoji';\nimport {\n  Image, CloudinaryContext,\n} from 'cloudinary-react';\nimport FsLightbox from 'fslightbox-react';\n\nconst Message = ({\n  username, message, video, image, isCurrent,\n}) => {\n  // implement delete, edit, emoji\n  const [toggler, changeToggle] = useState(false);\n  return (\n    <div>\n      <FsLightbox\n        toggler={toggler}\n        sources={[message]}\n      />\n      <article className={isCurrent ? 'full-message-me' : 'full-message'}>\n        <div className=\"chat-name\">\n          <span>{username.length < 25 ? username : username.slice(0,25) + \"...\"}</span>\n          {/* {created} */}\n        </div>\n        <div className={isCurrent ? 'message-content-me' : 'message-content'}>\n          {image && (\n          <CloudinaryContext cloudName=\"jekmessaging\">\n            <Image className=\"message-media\" publicId={message} width=\"100%\" onClick={() => changeToggle(!toggler)} />\n          </CloudinaryContext>\n          )}\n          { video && (\n          <CloudinaryContext cloudName=\"jekmessaging\">\n            <video className=\"message-media\" width=\"100%\" onClick={() => changeToggle(!toggler)} controls>\n              <source src={message} type=\"video/webm\" />\n              <source src={message} type=\"video/mp4\" />\n              <source src={message} type=\"video/ogg\" />\n            </video>\n          </CloudinaryContext>\n          )}\n          {!image && !video && ReactEmoji.emojify(message)}\n          {/* <button type=\"button\"> delete </button>\n        <button type=\"button\"> edit </button>\n        <button type=\"button\"> emoji </button> */}\n        </div>\n      </article>\n\n    </div>\n\n  );\n};\n\nexport default Message;\n","/* eslint-disable react/prop-types */\nimport React, { useState } from 'react';\nimport ScrollToBottom from 'react-scroll-to-bottom';\nimport { LinearProgress } from '@material-ui/core';\nimport Message from './Message';\n\nimport { serverURL } from '../../../../../utils/config';\n\nimport './TextContainer.css';\n\n// Scripting work for adding photos to the cloud through the text container\nimport useChangeHighlightClass from '../../../../../hooks/useHighlightClass';\n// import { preventDefaults, handleDrop } from '../../Modules/Photos/Scripts/DragAndDropPhotos';\n\nconst TextContainer = ({\n  messages, deleteMessage, channelId, emitSendMessage, currentUser,\n}) => {\n  // Used to highlight the box when dragging photos in\n  const { highlightClass, changeHighlightClass } = useChangeHighlightClass('');\n  const [showProgress, toggleProgress] = useState(false);\n\n  const preventDefaults = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n  };\n\n  const uploadFile = async (file, channelId, albumName, emitSendMessage, viewUpdatedAlbum) => {\n    const url = `${serverURL}/api/photos/uploadPhotos`;\n    const formData = new FormData();\n    formData.append('file', file);\n    formData.append('channel', `${channelId}`);\n    let path = `albums/${albumName.replace(/ /g, '-')}`;\n    if (albumName === 'chat') {\n      path = 'chat';\n    }\n    formData.append('album', path);\n\n\n    fetch(url, {\n      method: 'POST',\n      body: formData,\n    })\n      // send the url of image/video to socket to be used for messaging\n      .then((res) => res.json())\n      .then((data) => {\n        if (albumName === 'chat') {\n          emitSendMessage(data.result.url, data.video, data.image);\n        } else {\n          setTimeout(() => {\n            viewUpdatedAlbum();\n          }, 3000);\n        }\n      })\n      .catch((err) => { console.log(err); });\n  };\n\n  const handleFiles = (files, channelId, albumName, emitSendMessage, viewUpdatedAlbum) => {\n    [...files].forEach((file) => {\n      uploadFile(file, channelId, albumName, emitSendMessage, viewUpdatedAlbum);\n    });\n  };\n\n  const handleDrop = (e, channelId, albumName, emitSendMessage) => {\n    // get emitsendmessage to be passed through as a function\n    preventDefaults(e);\n    const dt = e.dataTransfer;\n    const { files } = dt;\n\n    handleFiles(files, channelId, albumName, emitSendMessage);\n  };\n\n  const formattedMessages = messages.map((msg) => (\n    <Message\n      key={msg.id}\n      id={msg.id}\n      message={msg.message}\n      created={msg.created}\n      username={msg.user.username}\n      currentUser={currentUser}\n      isCurrent={msg.user.id === currentUser}\n      userId={msg.user.id}\n      deleteMessage={deleteMessage}\n      video={msg.video}\n      image={msg.image}\n    />\n  ));\n\n  // Changes the class depending on the event\n  // and tracks event\n  function boxEvent(e) {\n    changeHighlightClass(e.type);\n    preventDefaults(e);\n  }\n\n  function dropFile(e) {\n    preventDefaults(e);\n    toggleProgress(true);\n    changeHighlightClass(e.type);\n    handleDrop(e, channelId, 'chat', emitSendMessage);\n    setTimeout(() => {\n      toggleProgress(false);\n    }, 2000);\n  }\n\n\n  return (\n    <div\n      onDragEnter={boxEvent}\n      onDragLeave={boxEvent}\n      onDragOver={boxEvent}\n      onDrop={dropFile}\n    >\n      <ScrollToBottom\n        id=\"drop-area\"\n        className={`textContainer ${highlightClass}`}\n      >\n        {formattedMessages}\n      </ScrollToBottom>\n      {showProgress && <LinearProgress />}\n    </div>\n  );\n};\n\nexport default TextContainer;\n","import { useState } from 'react';\n\n// Hook used to change of class state,\n// of the drag and box box for photos\n// This determines if it should be highlighted or not\nexport default function useChangeHighlightClass(initialMode) {\n  const [highlightClass, change] = useState(initialMode);\n\n  const changeHighlightClass = function (eventName) {\n    if (eventName === 'dragenter'\n        || eventName === 'dragover') {\n      change('highlight');\n    } else {\n      change('');\n    }\n  };\n\n  return {\n    highlightClass,\n    changeHighlightClass,\n  };\n}\n","/* eslint-disable jsx-a11y/click-events-have-key-events */\n/* eslint-disable jsx-a11y/no-static-element-interactions */\n/* eslint-disable jsx-a11y/label-has-associated-control */\n/* eslint-disable jsx-a11y/control-has-associated-label */\n/* eslint-disable react/prop-types */\nimport React, { useState } from 'react';\nimport { LinearProgress } from '@material-ui/core';\n// import { handleFiles } from '../../Modules/Photos/Scripts/DragAndDropPhotos';\n\nimport { serverURL } from '../../../../../utils/config';\n\nconst Input = ({\n  message, setMessage, emitSendMessage, channel, setShowEmojiPicker,\n}) => {\n  const [showProgress, toggleProgress] = useState(false);\n\n  const uploadFile = async (file, channelId, albumName, emitSendMessage, viewUpdatedAlbum) => {\n    const url = `${serverURL}/api/photos/uploadPhotos`;\n    const formData = new FormData();\n    formData.append('file', file);\n    formData.append('channel', `${channelId}`);\n    let path = `albums/${albumName.replace(/ /g, '-')}`;\n    if (albumName === 'chat') {\n      path = 'chat';\n    }\n    formData.append('album', path);\n\n\n    fetch(url, {\n      method: 'POST',\n      body: formData,\n    })\n      // send the url of image/video to socket to be used for messaging\n      .then((res) => res.json())\n      .then((data) => {\n        if (albumName === 'chat') {\n          emitSendMessage(data.result.url, data.video, data.image);\n        } else {\n          setTimeout(() => {\n            viewUpdatedAlbum();\n          }, 3000);\n        }\n      })\n      .catch((err) => { console.log(err); });\n  };\n\n  const handleFiles = (files, channelId, albumName, emitSendMessage, viewUpdatedAlbum) => {\n    [...files].forEach((file) => {\n      uploadFile(file, channelId, albumName, emitSendMessage, viewUpdatedAlbum);\n    });\n  };\n\n  const sendMessage = (e) => {\n    e.preventDefault();\n    toggleProgress(true);\n    emitSendMessage(message);\n    toggleProgress(false);\n    setMessage('');\n  };\n\n  const sendFileMessage = (e) => {\n    toggleProgress(true);\n    handleFiles(e.target.files, channel, 'chat', emitSendMessage);\n    setTimeout(() => {\n      toggleProgress(false);\n    }, 1000);\n  };\n\n  return (\n    <div>\n      {showProgress && <LinearProgress />}\n      <form id=\"messaging-input\">\n        <textarea\n          className=\"chatInputBox\"\n          type=\"text\"\n          onChange={(e) => setMessage(e.target.value)}\n          value={message}\n          onKeyPress={(e) => (e.key === 'Enter' ? sendMessage(e) : null)}\n          placeholder=\"Type something to send...\"\n        />\n        <div className=\"emojiPickerButton\" onClick={() => setShowEmojiPicker((prev) => !prev)} />\n        <input type=\"file\" id=\"fileElem\" multiple accept=\"image/*\" onChange={(e) => sendFileMessage(e)} />\n        <label className=\"button\" htmlFor=\"fileElem\" />\n      </form>\n    </div>\n  );\n};\n\nexport default Input;\n","import React, { useState } from 'react';\nimport { LinearProgress } from '@material-ui/core';\n// import { handleFiles } from './Scripts/DragAndDropPhotos';\n\nimport { serverURL } from '../../../../../utils/config';\n\nexport default function AlbumForm({\n  channelId, emitSendMessage, albumName, newAlbum, viewAlbum,\n}) {\n  const [fields, changeFields] = useState(\n    {\n      album: albumName,\n      files: [],\n      originalName: albumName,\n    },\n  );\n  const [showProgress, toggleProgress] = useState(false);\n\n  const uploadFile = async (file, channelId, albumName, emitSendMessage, viewUpdatedAlbum) => {\n    const url = `${serverURL}/api/photos/uploadPhotos`;\n    const formData = new FormData();\n    formData.append('file', file);\n    formData.append('channel', `${channelId}`);\n    let path = `albums/${albumName.replace(/ /g, '-')}`;\n    if (albumName === 'chat') {\n      path = 'chat';\n    }\n    formData.append('album', path);\n\n\n    fetch(url, {\n      method: 'POST',\n      body: formData,\n    })\n      // send the url of image/video to socket to be used for messaging\n      .then((res) => res.json())\n      .then((data) => {\n        if (albumName === 'chat') {\n          emitSendMessage(data.result.url, data.video, data.image);\n        } else {\n          setTimeout(() => {\n            viewUpdatedAlbum();\n          }, 3000);\n        }\n      })\n      .catch((err) => { console.log(err); });\n  };\n\n  const handleFiles = (files, channelId, albumName, emitSendMessage, viewUpdatedAlbum) => {\n    [...files].forEach((file) => {\n      uploadFile(file, channelId, albumName, emitSendMessage, viewUpdatedAlbum);\n    });\n  };\n\n\n  function previewFile(file) {\n    const reader = new FileReader();\n    reader.readAsDataURL(file);\n    reader.onloadend = function () {\n      let img = document.createElement('img');\n      if (file.type === 'video/mp4') {\n        img = document.createElement('video');\n      }\n      img.src = reader.result;\n      document.getElementById('input-display').appendChild(img);\n    };\n  }\n\n  // Handles form events when adding files and\n  // creating a name\n  function handleOnChange(event) {\n    event.preventDefault();\n    if (event.target.name === 'album') {\n      const value = event.target.value.replace(/ /g, '-');\n      changeFields({\n        ...fields,\n        [event.target.name]: value,\n        originalName: event.target.value,\n      });\n    } else {\n      [...event.target.files].forEach(previewFile);\n      changeFields({\n        album: fields.album,\n        files: [...fields.files, event.target.files],\n      });\n    }\n  }\n\n  function viewUpdatedAlbum() {\n    const pathName = albumName.replace(/ /g, '-');\n    console.log(pathName);\n    viewAlbum(`${channelId}/albums/${pathName}`, albumName);\n  }\n\n  function viewAlbums() {\n    viewAlbum('albums');\n  }\n\n  async function handleSubmit(event) {\n    toggleProgress(true);\n    event.preventDefault();\n    [...fields.files].forEach((file) => {\n      if (!newAlbum) {\n        handleFiles(file, channelId, fields.album, emitSendMessage, viewUpdatedAlbum);\n      } else {\n        handleFiles(file, channelId, fields.album, emitSendMessage, viewAlbums);\n      }\n      setTimeout(() => {\n        toggleProgress(false);\n      }, 3000);\n    });\n    document.getElementById('album-upload-form').reset();\n    let message = `🚨A new album '${fields.album.replace(/-/g, ' ')}' has been uploaded🚨`;\n    if (!newAlbum) {\n      message = `👀 New photos were added to ${fields.album}`;\n    } else {\n      setTimeout(() => viewAlbum('albums'), 3000);\n    }\n    setTimeout(() => emitSendMessage(message, false, false), 3000);\n  }\n\n  return (\n    <div>\n      { showProgress && <LinearProgress /> }\n      { newAlbum && <div className=\"popup-title\">New Album</div> }\n      { !newAlbum && (\n      <div className=\"popup-title-mod\">\n        Adding photos to\n        {' '}\n        {albumName}\n      </div>\n      )}\n      <form id=\"album-upload-form\" onSubmit={handleSubmit}>\n        { newAlbum && (\n          <input id=\"input-album\" type=\"text\" name=\"album\" placeholder=\"Choose an album name\" onChange={handleOnChange} />\n        )}\n        <div id=\"album-submission\"><input className=\"submit-button\" type=\"submit\" value=\"SUBMIT\" /></div>\n        <div id=\"input-display\" value=\"drag\">\n          <input\n            id=\"album-upload\"\n            name=\"files\"\n            type=\"file\"\n            multiple\n            accept=\"image/*\"\n            onChange={handleOnChange}\n          />\n          <div className=\"subtitle\">ADDED MEDIA:</div>\n        </div>\n      </form>\n    </div>\n  );\n}\n","import React from 'react';\nimport {\n  Image, CloudinaryContext,\n} from 'cloudinary-react';\n\nexport default function PhotoItem({\n  url, fileType, showSlide, slide,\n}) {\n  return (\n    <CloudinaryContext cloudName=\"jekmessaging\">\n      <div onClick={() => showSlide(slide)}>\n        {fileType === 'image' && <Image publicId={url} width=\"100%\"  />}\n        {fileType === 'video'\n        && (\n        <video width=\"100%\" controls>\n          <source src={url} type=\"video/webm\" />\n          <source src={url} type=\"video/mp4\" />\n          <source src={url} type=\"video/ogg\" />\n        </video>\n        )}\n      </div>\n    </CloudinaryContext>\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport './Styling/galleryStyling.css';\nimport './Styling/PopUpBoxStyling.css';\nimport PhotoItem from './PhotoItem';\nimport './Styling/imageBox.css';\nimport { serverURL } from '../../../../../utils/config';\n\nexport default function GalleryDisplay({\n  path, title, isAlbum, addPhotos, openLightboxOnSlide, changeLinks,\n}) {\n  const [photos, setPhotos] = useState([]);\n\n  useEffect(() => {\n    fetch(`${serverURL}/api/photos/getChannelPhotos/${path}`)\n      .then((res) => res.json())\n      .then((data) => data.resources)\n      .then((allPhotos) => { console.log('allPhotos:', allPhotos); setPhotos(allPhotos); });\n  }, [path]);\n\n\n  const allImages = [];\n  let slide = 0;\n  photos.forEach((img) => {\n    slide += 1;\n    allImages.push(\n      <PhotoItem\n        key={img.public_id}\n        publicKey={img.public_id}\n        url={img.url}\n        fileType={img.resource_type}\n        showSlide={openLightboxOnSlide}\n        slide={slide}\n      />,\n    );\n  });\n\n\n  // formats the images for the grid\n  const images = [[], [], [], []];\n  let column = 0;\n  allImages.forEach((image) => {\n    images[column].push(image);\n    if (column === 3) {\n      column = 0;\n    } else {\n      column += 1;\n    }\n  });\n\n  useEffect(() => {\n    const imageLinks = photos.map((image) => image.url);\n    changeLinks(imageLinks);\n  }, [changeLinks, photos]);\n\n  return (\n    <div>\n      <div className=\"popup-title\">{title}</div>\n      {isAlbum && <button type=\"button\" className=\"adding-button-mod\" onClick={() => addPhotos('addAlbumPhotos')}><span>+</span></button>}\n      <div className=\"row\">\n        <div className=\"column\">\n          {images[0]}\n        </div>\n        <div className=\"column\">\n          {images[1]}\n        </div>\n        <div className=\"column\">\n          {images[2]}\n        </div>\n        <div className=\"column\">\n          {images[3]}\n        </div>\n      </div>\n    </div>\n  );\n}\n","/* eslint-disable jsx-a11y/no-static-element-interactions */\n/* eslint-disable jsx-a11y/click-events-have-key-events */\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport {\n  Image, Video, CloudinaryContext,\n} from 'cloudinary-react';\nimport './Styling/Album.css';\nimport { serverURL } from '../../../../../utils/config';\n\nexport default function Album({ name, path, viewAlbum }) {\n  const [cover, setCover] = useState([]);\n\n  useEffect(() => {\n    axios.get(`${serverURL}/api/photos/coverPhoto/${path}`)\n      .then((res) => setCover([res.data[0], res.data[1]]));\n  }, [path]);\n  return (\n    <div className=\"albumCover\" onClick={() => viewAlbum(path, name)}>\n      <CloudinaryContext className=\"coverPhoto\" cloudName=\"jekmessaging\">\n        {cover[0] === 'image' && <Image publicId={cover[1]} />}\n        {cover[0] === 'video' && <Video publicId={cover[1]} resourceType=\"video\" />}\n      </CloudinaryContext>\n      {name}\n    </div>\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Album from './Album';\nimport { serverURL } from '../../../../../utils/config';\n\nexport default function AlbumDisplay({ change, channelId, viewAlbum }) {\n  const [albums, setAlbums] = useState([]);\n\n  // gets all the albums in the channel\n  useEffect(() => {\n    axios.get(`${serverURL}/api/photos/getAlbums/${channelId}`)\n      .then((res) => {\n        const { folders } = res.data;\n        folders.forEach((album) => {\n          setAlbums((prev) => [...prev, album]);\n        });\n      });\n  }, [channelId]);\n\n  const allAlbums = albums.map((a) => (\n    <Album\n      key={a.name}\n      name={a.name.replace(/-/g, ' ')}\n      path={a.path}\n      viewAlbum={viewAlbum}\n    />\n  ));\n\n  return (\n    <div>\n      <div className=\"popup-title\">Albums</div>\n        <button className=\"adding-button\" onClick={() => change('albumForm')}>+<span></span></button>\n      <div id=\"album-box\">\n        {allAlbums}\n      </div>\n    </div>\n  );\n}\n","/* eslint-disable jsx-a11y/no-static-element-interactions */\nimport React, { useState } from 'react';\nimport FsLightbox from 'fslightbox-react';\nimport { mouseDownFunction } from '../Scripts/PopUpBoxScript';\nimport AlbumForm from './AlbumForm';\nimport GalleryDisplay from './galleryDisplay';\nimport AlbumDisplay from './AlbumDisplay';\nimport './Styling/PopUpBoxStyling.css';\nimport './Styling/imageBox.css';\n\nconst CHAT = 'chat';\nconst ALBUMS = 'albums';\nconst ALBUMFORM = 'albumForm';\nconst ALBUMPHOTOS = 'albumPhotos';\nconst ADDALBUMPHOTOS = 'addAlbumPhotos';\n\nexport default function ImageBox({ channelId, emitSendMessage }) {\n  const [lightboxController, setLightboxController] = useState({\n    toggler: false,\n    slide: 0,\n  });\n  const [imageLinks, changeLinks] = useState([]);\n  const [view, changeView] = useState('chat');\n  const [folderPath, changePath] = useState(`${channelId}/chat/false`);\n  const [title, changeTitle] = useState('Chat Photos');\n\n  // Changes view of gallery\n  function newView(v) {\n    changeView(v);\n  }\n\n  // Changes to view media in an album\n  function viewAlbum(albumPath, name) {\n    changePath(albumPath);\n    changeTitle(name);\n    newView('albumPhotos');\n  }\n\n  // Go back to viewing chat photos\n  function viewChatPhotos() {\n    changePath(`${channelId}/chat/false`);\n    changeTitle('Chat Photos');\n    changeView('chat');\n  }\n\n  // shows slide depending what photo it is\n  function openLightboxOnSlide(number) {\n    setLightboxController({\n      toggler: !lightboxController.toggler,\n      slide: number,\n    });\n  }\n\n  return (\n    <div>\n      <FsLightbox\n        toggler={lightboxController.toggler}\n        sources={imageLinks}\n        slide={lightboxController.slide}\n        key={lightboxController.slide}\n      />\n      <div className=\"resize-box\" onMouseDown={mouseDownFunction}>\n        <div id=\"imageBox\">\n          <div className=\"switch-buttons\">\n            <button type=\"button\" className=\"image-buttons\" onClick={() => viewChatPhotos()}>CHAT</button>\n            <button type=\"button\" className=\"image-buttons\" onClick={() => newView('albums')}>ALBUMS</button>\n          </div>\n          { view === ALBUMFORM\n          && (\n          <AlbumForm\n            channelId={channelId}\n            emitSendMessage={emitSendMessage}\n            albumName=\"\"\n            newAlbum\n            viewAlbum={newView}\n          />\n          )}\n          { view === CHAT\n          && (\n          <GalleryDisplay\n            path={folderPath}\n            title={title}\n            isAlbum={false}\n            openLightboxOnSlide={openLightboxOnSlide}\n            addPhotos={newView}\n            changeLinks={changeLinks}\n          />\n          )}\n          { view === ALBUMS\n          && (\n          <AlbumDisplay\n            change={newView}\n            channelId={channelId}\n            viewAlbum={viewAlbum}\n          />\n          )}\n          {view === ALBUMPHOTOS\n          && (\n          <GalleryDisplay\n            path={folderPath}\n            title={title}\n            isAlbum\n            openLightboxOnSlide={openLightboxOnSlide}\n            addPhotos={newView}\n            changeLinks={changeLinks}\n          />\n          )}\n          {view === ADDALBUMPHOTOS && (\n          <AlbumForm\n            channelId={channelId}\n            emitSendMessage={emitSendMessage}\n            albumName={title}\n            newAlbum={false}\n            viewAlbum={viewAlbum}\n          />\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React, { useEffect } from 'react';\nimport YouTube from 'react-youtube';\n\nlet player;\n\nconst YoutubeVideoPlayer = ({\n  currentVideo, changeVideoState, paused, played, channel, syncVideo, timeStamp,\n}) => {\n  function onReady(event) {\n    player = event.target;\n    if (timeStamp && player.b) {\n      player.seekTo(timeStamp, true);\n    }\n    syncVideo(player.getCurrentTime(), channel);\n    if (paused) {\n      event.target.pauseVideo();\n    }\n    event.target.playVideo();\n  }\n\n  useEffect(() => {\n    if (paused && player && player.b) {\n      player.pauseVideo();\n    } else if (played && player && player.b) {\n      player.playVideo();\n    }\n  }, [paused, played]);\n\n  useEffect(() => {\n    if (timeStamp && player && player.b) {\n      if (Math.abs(player.getCurrentTime() - timeStamp) > 1) {\n        player.seekTo(timeStamp, true);\n      }\n    }\n  }, [timeStamp]);\n\n  function onPlayerStateChange(event) {\n    const state = event.data;\n    syncVideo(player.getCurrentTime(), channel);\n\n    if (state === 1) { // if the video is playing\n      changeVideoState(currentVideo, channel, false, true);\n    } else if (state === 2) { // if the video is paused\n      changeVideoState(currentVideo, channel, true, false);\n    }\n  }\n\n  const opts = {\n    height: '500',\n    width: '840',\n    playerVars: { // https://developers.google.com/youtube/player_parameters\n      autoplay: 1,\n    },\n  };\n\n  return (\n    <YouTube\n      id=\"youtube-player\"\n      videoId={currentVideo}\n      opts={opts}\n      onReady={onReady}\n      onStateChange={onPlayerStateChange}\n    />\n  );\n};\n\nexport default YoutubeVideoPlayer;\n","import React, { useEffect } from 'react';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n} from 'react-router-dom';\nimport io from 'socket.io-client';\nimport { serverURL } from '../../utils/config';\n\nimport channelService from '../../service/channelService';\nimport mapService from '../../service/mapService';\n\nimport NewChannelModal from './ChannelList/NewChannelModal';\nimport ChannelList from './ChannelList/ChannelList';\nimport Channel from './Channel/Channel';\n\nimport PopupToast from './PopUpToast';\n\nimport { useYoutube } from '../../hooks/useYoutube';\nimport { useChat } from '../../hooks/useChat';\n\nimport './homeStyling.css';\nimport '../../styles.css';\n\nlet socket;\n\nconst Home = ({ state, setState }) => {\n  const {\n    emitSendMessage,\n    emitJoinChannel,\n    emitCreateChannel,\n  } = useChat(state, setState, socket);\n\n  const {\n    changeVideoState,\n    syncVideo,\n  } = useYoutube(state, setState, socket);\n\n  const sendLine = (line) => {\n    const lineObj = {\n      line,\n      channel: state.currentChannel,\n      user: state.currentUser,\n    };\n    setState((prev) => ({\n      ...prev,\n      lines: {\n        ...prev.lines,\n        [state.currentChannel]: {\n          ...prev.lines[state.currentChannel],\n          [state.currentUser]: {\n            user: state.currentUser,\n            line,\n          },\n        },\n      },\n    }));\n    socket.emit('draw', lineObj);\n  };\n\n  const updateLocation = (location) => {\n    const locationObj = {\n      location,\n      authorization: state.authorization,\n    };\n    socket.emit('update location', locationObj, (locations) => {\n      setState((prev) => ({\n        ...prev,\n        locations,\n        center: location,\n      }));\n    });\n  };\n\n  const getLocation = () => {\n    if (navigator.geolocation) {\n      navigator.geolocation.watchPosition(() => {\n        mapService.getLocation(updateLocation);\n      });\n    }\n  };\n\n  const channels = Object.keys(state.channelStates);\n  const channelIdNamePair = channels.map((id) => ({ id, name: state.channelStates[id].name }));\n\n  const selectCurrentChannel = (channel) => {\n    setState((prev) => ({ ...prev, currentChannel: channel }));\n  };\n\n  const toggleForm = (s) => {\n    setState((prev) => ({ ...prev, newChannelForm: s }));\n  };\n\n  const channelItems = channels.map((id) => {\n    const { name, messages, users } = state.channelStates[id];\n    return (\n      <Route\n        path={`/channel/${id}`}\n        key={`${id}`}\n      >\n        <Channel\n          channel={id}\n          name={name}\n          messages={messages}\n          userStatus={state.users[id]}\n          userList={users}\n          emitSendMessage={emitSendMessage}\n          locations={state.locations[id]}\n          center={state.center}\n          currentUser={state.currentUser}\n          videoStates={state.videoStates}\n          changeVideoState={changeVideoState}\n          syncVideo={syncVideo}\n          sendLine={sendLine}\n          lines={state.lines[id]}\n        />\n      </Route>\n    );\n  });\n\n  // handle initial state\n  useEffect(() => {\n    // grab all channel data, messages\n    if (state.authorization) {\n      channelService\n        .getUserData()\n        .then(({ channelData }) => {\n          const channelStates = channelData.reduce((obj, ele) => {\n            if (!obj[ele.data.channel]) {\n              // eslint-disable-next-line no-param-reassign\n              obj[ele.data.channel] = {\n                users: ele.data.users,\n                name: ele.data.name,\n                channel: ele.data.channel,\n                messages: ele.messages,\n              };\n            }\n            return obj;\n          }, {});\n          const videoStates = channelData.reduce((obj, ele) => {\n            // eslint-disable-next-line no-param-reassign\n            obj[ele.data.channel] = {\n              url: '5mGuCdlCcNM',\n              played: false,\n              paused: true,\n            };\n            return obj;\n          }, {});\n          setState((prev) => ({\n            ...prev,\n            channelStates,\n            videoStates,\n            currentChannel: Object.keys(channelStates)[0],\n          }));\n        });\n    }\n    socket = io(`${serverURL}/`);\n    socket.on('connect', () => {\n      // from servers\n      socket.on('server message', (data) => {\n        console.log(data);\n      });\n      socket.emit('join channels', { authorization: state.authorization }, (data) => {\n        console.log(data);\n      });\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    if (!state.currentChannelLoaded) {\n      setState((prev) => ({ ...prev, currentChannelLoaded: true }));\n    } else {\n      setState((prev) => ({ ...prev, loaded: true }));\n    }\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [state.currentChannel]);\n\n  useEffect(() => {\n    mapService.getLocation(updateLocation);\n    getLocation();\n\n    socket.on('new message', (data) => {\n      const { channelID, newMessageObj } = data;\n      if (channelID && newMessageObj) {\n        setState((prev) => (\n          {\n            ...prev,\n            channelStates: {\n              ...prev.channelStates,\n              [channelID]: {\n                ...prev.channelStates[channelID],\n                messages: prev.channelStates[channelID].messages.concat(newMessageObj),\n              },\n            },\n          }));\n      }\n    });\n\n    socket.on('user status', ({ userStatus }) => {\n      const { channel, users } = userStatus;\n      setState((prev) => ({\n        ...prev,\n        users: {\n          ...prev.users,\n          [channel]: users,\n        },\n      }));\n    });\n\n    socket.on('update location', (updatedLocations) => {\n      if (updatedLocations) {\n        setState((prev) => ({\n          ...prev,\n          locations: {\n            ...prev.locations,\n            ...updatedLocations,\n          },\n        }));\n      }\n    });\n\n    socket.on('new video state', ({\n      url, paused, played, channel,\n    }) => {\n      if (url) {\n        setState((prev) => (\n          {\n            ...prev,\n            videoStates: {\n              ...prev.videoStates,\n              [channel]: {\n                url,\n                paused,\n                played,\n              },\n            },\n          }\n        ));\n      }\n    });\n\n    socket.on('new time stamp', ({\n      time, channel,\n    }) => {\n      setState((prev) => (\n        {\n          ...prev,\n          videoStates: {\n            ...prev.videoStates,\n            [channel]: { ...prev.videoStates[channel], timeStamp: time },\n          },\n        }\n      ));\n    });\n\n    socket.on('draw', ({ user, channel, line }) => {\n      setState((prev) => ({\n        ...prev,\n        lines: {\n          ...prev.lines,\n          [channel]: {\n            ...prev.lines[channel],\n            [user]: {\n              user,\n              line,\n            },\n          },\n        },\n      }));\n    });\n\n    return () => {\n      socket.off();\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <div id=\"main-container\">\n      <div id=\"channel-container\">\n      <Router>\n        <ChannelList\n          selectCurrentChannel={selectCurrentChannel}\n          channelIdNamePair={channelIdNamePair}\n          emitJoinChannel={emitJoinChannel}\n          emitCreateChannel={emitCreateChannel}\n          toggleForm={toggleForm}\n        />\n        <Switch>\n          {channelItems}\n        </Switch>\n        {state.loaded && !state.currentChannel && (\n        <NewChannelModal\n          emitCreateChannel={emitCreateChannel}\n          emitJoinChannel={emitJoinChannel}\n        />\n        )}\n        <PopupToast\n          show={state.newChannelForm}\n          toggleForm={toggleForm}\n          emitCreateChannel={emitCreateChannel}\n          emitJoinChannel={emitJoinChannel}\n        />\n        <Redirect exact from=\"/home\" to={state.currentChannel ? `/channel/${state.currentChannel}` : '/home'} />\n      </Router>\n      </div>\n    </div>\n  );\n};\n\nexport default Home;\n","/* eslint-disable jsx-a11y/no-static-element-interactions */\nimport React from 'react';\nimport GoogleMap from 'google-map-react';\nimport '../Photos/Styling/PopUpBoxStyling.css';\nimport { mouseDownFunction } from '../Scripts/PopUpBoxScript';\nimport { GOOGLE_API_KEY } from '../../../../../utils/config';\n\nconst mapStyles = {\n  width: '100%',\n  height: '100%',\n  position: 'relative',\n};\n\nconst markerStyle = {\n  height: '45px',\n  width: '55px',\n  marginTop: '-50px',\n};\n\nconst imgStyle = {\n  height: '100%',\n};\n\nconst Marker = ({ title }) => (\n  <div style={markerStyle}>\n    <img style={imgStyle} src=\"https://res.cloudinary.com/og-tech/image/upload/s--OpSJXuvZ--/v1545236805/map-marker_hfipes.png\" alt={title} />\n    <p className=\"googleMapsMarkerLabel\">{title}</p>\n  </div>\n);\n\nconst rand = (coord) => {\n  const addsub = Math.round(Math.random());\n  if (addsub === 1) {\n    return coord + (Math.random() / 1000);\n  }\n  return coord - (Math.random() / 1000);\n};\n\n\nconst StalkerMap = ({ locations, center, channel }) => {\n  const locationMarkers = locations ? locations.map((user) => (\n    <Marker\n      className=\"googleMapsMarker\"\n      key={`${channel}${Math.random() * 10}`}\n      title={`${user.username}`}\n      lat={rand(user.location.lat)}\n      lng={rand(user.location.lng)}\n    />\n  )) : <Marker title=\"default location\" {...center} />;\n\n  return (\n    <div className=\"resize-box\" onMouseDown={mouseDownFunction}>\n      <GoogleMap\n        style={{ mapStyles }}\n        bootstrapURLKeys={{ key: GOOGLE_API_KEY }}\n        center={center}\n        zoom={14}\n      >\n        {locationMarkers}\n      </GoogleMap>\n    </div>\n  );\n};\n\nexport default StalkerMap;\n","/* eslint-disable jsx-a11y/no-static-element-interactions */\nimport React, { useState } from 'react';\nimport YoutubeVideoPlayer from './YoutubeVideoPlayer';\nimport { mouseDownFunction } from '../Scripts/PopUpBoxScript';\nimport './videoSync.css';\n\nconst YoutubeSync = ({\n  channel, videoStates, changeVideoState, syncVideo,\n}) => {\n  const [newUrl, setNewUrl] = useState('');\n\n  const handleOnChange = (e) => {\n    setNewUrl(e.target.value);\n  };\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    if (newUrl) {\n      let videoId = newUrl.split('v=')[1];\n      const ampersandPosition = videoId.indexOf('&');\n      if (ampersandPosition !== -1) {\n        videoId = videoId.substring(0, ampersandPosition);\n      }\n      console.log('handleSubmit', ...videoId) \n      changeVideoState(videoId, channel, false, true);\n    }\n  }\n\n  return (\n    <div className=\"video-resize-box resize-box\" onMouseDown={mouseDownFunction}>\n      <div id=\"videoBox\">\n      {/* <div className=\"popup-title\">Watch Together</div> */}\n      <div id=\"video\">\n        <form id=\"changeVideoForm\" onSubmit={(e) => handleSubmit(e)}>\n          <input type=\"text\" placeholder=\"Enter a video link and watch with friends...\" name=\"link\" value={newUrl} onChange={handleOnChange} />\n          <input type=\"submit\" value=\"Submit\" />\n        </form>\n        <YoutubeVideoPlayer\n          currentVideo={videoStates[channel].url}\n          changeVideoState={changeVideoState}\n          paused={videoStates[channel] ? videoStates[channel].paused : false}\n          played={videoStates[channel] ? videoStates[channel].played : true}\n          timeStamp={videoStates[channel] ? videoStates[channel].timeStamp : 0}\n          channel={channel}\n          syncVideo={syncVideo}\n        />\n      </div>\n      </div>\n    </div>\n  );\n};\n\nexport default YoutubeSync;\n","/* eslint-disable no-return-assign */\nimport React, { Component } from 'react';\n\nclass Canvas extends Component {\n      isPainting = false;\n\n      // Different stroke styles to be used for user and guest\n      userStrokeStyle = '#EE92C2';\n\n      guestStrokeStyle = '#F0C987';\n\n      line = [];\n\n      prevPos = { offsetX: 0, offsetY: 0 };\n\n      constructor(props) {\n        super(props);\n        this.onMouseDown = this.onMouseDown.bind(this);\n        this.onMouseMove = this.onMouseMove.bind(this);\n        this.endPaintEvent = this.endPaintEvent.bind(this);\n        this.sendLine = props.sendLine.bind(this);\n      }\n\n      componentDidMount() {\n        // Here we set up the properties of the canvas element.\n        this.canvas.width = 700;\n        this.canvas.height = 459;\n        this.ctx = this.canvas.getContext('2d');\n        this.ctx.lineJoin = 'round';\n        this.ctx.lineCap = 'round';\n        this.ctx.lineWidth = 5;\n      }\n\n      componentDidUpdate() {\n        const { currentUser, lines } = this.props;\n        if (lines !== undefined) {\n          Object.values(lines).forEach(({ user, line }) => {\n            if (user !== currentUser) {\n              line.forEach((position) => {\n                this.paint(position.start, position.stop, this.guestStrokeStyle);\n              });\n            }\n          });\n        }\n      }\n\n\n      onMouseDown({ nativeEvent }) {\n        const { offsetX, offsetY } = nativeEvent;\n        this.isPainting = true;\n        this.prevPos = { offsetX, offsetY };\n      }\n\n      onMouseMove({ nativeEvent }) {\n        if (this.isPainting) {\n          const { offsetX, offsetY } = nativeEvent;\n          const offSetData = { offsetX, offsetY };\n          // Set the start and stop position of the paint event.\n          const positionData = {\n            start: { ...this.prevPos },\n            stop: { ...offSetData },\n          };\n          // Add the position to the line array\n          this.line = this.line.concat(positionData);\n          this.paint(this.prevPos, offSetData, this.userStrokeStyle);\n        }\n      }\n\n      endPaintEvent() {\n        if (this.isPainting) {\n          this.isPainting = false;\n          this.sendPaintData();\n        }\n      }\n\n      paint(prevPos, currPos, strokeStyle) {\n        const { offsetX, offsetY } = currPos;\n        const { offsetX: x, offsetY: y } = prevPos;\n\n        this.ctx.beginPath();\n        this.ctx.strokeStyle = strokeStyle;\n        // Move the the prevPosition of the mouse\n        this.ctx.moveTo(x, y);\n        // Draw a line to the current position of the mouse\n        this.ctx.lineTo(offsetX, offsetY);\n        // Visualize the line using the strokeStyle\n        this.ctx.stroke();\n        this.prevPos = { offsetX, offsetY };\n      }\n\n      async sendPaintData() {\n        this.sendLine(this.line);\n      }\n\n      render() {\n        return (\n          <>\n            <canvas\n            // We use the ref attribute to get direct access to the canvas element.\n              ref={(ref) => (this.canvas = ref)}\n              style={{ background: 'black' }}\n              onMouseDown={this.onMouseDown}\n              onMouseLeave={this.endPaintEvent}\n              onMouseUp={this.endPaintEvent}\n              onMouseMove={this.onMouseMove}\n            />\n          </>\n        );\n      }\n}\nexport default Canvas;\n","import React, { useState } from 'react';\nimport Modal from 'react-bootstrap/Modal';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport { useField } from '../../hooks/useField';\nimport auth from '../../service/authService';\nimport GoogleLogin from '../Landing/Login/GoogleLogin';\n\nconst GuestRegisterBanner = ({ setState }) => {\n  const [show, setShow] = useState(false);\n\n  const email = useField('text');\n  const password = useField('password');\n\n  const handleClose = () => setShow(false);\n  const handleShow = () => setShow(true);\n\n  const handleRegister = (e) => {\n    e.preventDefault();\n    const registerObj = {\n      email: email.value,\n      password: password.value,\n    };\n    auth\n      .register(registerObj)\n      .then((registered) => {\n        if (registered) {\n          setState((prev) => ({\n            ...prev,\n            authorization: window.localStorage.getItem('authorization'),\n            username: window.localStorage.getItem('username'),\n            currentUser: window.localStorage.getItem('userID'),\n            guest: localStorage.getItem('guest'),\n          }));\n        }\n      });\n  };\n\n  return (\n    <div>\n      <div\n        className=\"guestRegisterBanner\"\n        role=\"button\"\n        tabIndex={0}\n        onKeyPress={(e) => e.preventDefault()}\n        onClick={(e) => handleShow(e)}\n      >\n        <p className=\"bannerMessage\">If you wish to save your username and chats the next time you visit, click here to create an account!</p>\n      </div>\n\n      <Modal show={show} onHide={handleClose} className=\"NewAccountModal\">\n        <Modal.Header closeButton>\n          <Modal.Title></Modal.Title>\n        </Modal.Header>\n        <Modal.Body className=\"NewAccountModalBody\">\n          <form className=\"NewAccountRegistrationModalForm\">\n            <p>\n              Welcome! Claim your account to keep all your servers and chats even after you close the browser.\n            </p>\n            <div className=\"email\">\n              <TextField\n                name=\"email\"\n                label=\"email\"\n                placeholder=\"email\"\n                {...email}\n                reset={undefined}\n                onKeyPress={(e) => (e.key === 'Enter' ? handleRegister(e) : null)}\n                variant=\"outlined\"\n                className=\"NewAccountModalInput\"\n              />\n            </div>\n            <div className=\"password\">\n              <TextField\n                name=\"password\"\n                label=\"password\"\n                placeholder=\"password\"\n                {...password}\n                reset={undefined}\n                onKeyPress={(e) => (e.key === 'Enter' ? handleRegister(e) : null)}\n                variant=\"outlined\"\n                className=\"NewAccountModalInput\"\n              />\n            </div>\n          </form>\n          <div className=\"guestRegisterModalButtons\">\n            <Button className=\"guestRegisterModalCloseButton\" onClick={handleClose}>\n              Close\n            </Button>\n            <Button variant=\"primary\" onClick={handleRegister}>\n              Register\n            </Button>\n          </div>\n        </Modal.Body>\n        <Modal.Footer className=\"modalFooter\">\n          {/* <div className=\"modalFooter\"> */}\n          <div className=\"modalDivider\">\n            <p> ------------- Login With Google ------------- </p>\n          </div>\n          <div className=\"guestModalGoogleLoginButton\">\n            <GoogleLogin className=\"googleLogin\" setState={setState} />\n          </div>\n        </Modal.Footer>\n      </Modal>\n    </div>\n  );\n};\n\nexport default GuestRegisterBanner;\n","import React, { useState } from 'react';\nimport Picker from 'emoji-picker-react';\nimport TextContainer from './TextContainer';\nimport Input from './Input';\nimport ImageBox from '../../Modules/Photos/ImageBox';\nimport StalkerMap from '../../Modules/StalkerMap/StalkerMap';\nimport YoutubeSync from '../../Modules/VideoSync/YoutubeSync';\nimport Canvas from '../../Modules/Canvas/Canvas';\nimport GuestRegisterBanner from '../../../../Navbar/GuestRegisterBanner';\n\nimport './Styling/DragAndDropBox.css';\nimport './Chat.css';\n\nconst Chat = ({\n  messages,\n  emitDeleteMessage,\n  emitSendMessage,\n  channel,\n  currentUser,\n  moduleView,\n  locations,\n  center,\n  videoStates,\n  changeVideoState,\n  syncVideo,\n  sendLine,\n  lines,\n}) => {\n  const [showEmojiPicker, setShowEmojiPicker] = useState(false);\n  const [message, setMessage] = useState('');\n\n  const onEmojiClick = (event, emojiObject) => {\n    event.preventDefault();\n    setMessage((prev) => prev.concat(emojiObject.emoji));\n  };\n\n  return (\n    <div id=\"chat-container\">\n      <TextContainer\n        messages={messages}\n        emitDeleteMessage={emitDeleteMessage}\n        emitSendMessage={emitSendMessage}\n        channelId={channel}\n        currentUser={currentUser}\n      />\n      <Input\n        setShowEmojiPicker={setShowEmojiPicker}\n        emitSendMessage={emitSendMessage}\n        channel={channel}\n        message={message}\n        setMessage={setMessage}\n      />\n      { moduleView.imageBox && (\n        <ImageBox\n          channelId={channel}\n          emitSendMessage={emitSendMessage}\n        />\n      )}\n      { moduleView.stalkerMap && (\n      <StalkerMap\n        locations={locations}\n        channel={channel}\n        center={center}\n      />\n      )}\n      { moduleView.video && (\n      <YoutubeSync\n        channel={channel}\n        videoStates={videoStates}\n        changeVideoState={changeVideoState}\n        viewState={moduleView.video}\n        syncVideo={syncVideo}\n      />\n      )}\n      { moduleView.canvasBox && (\n        <div className=\"canvas resize-box\">\n          <div style={{ display: 'flex' }} className=\"main\">\n            <div className=\"left-guide\" />\n            <Canvas\n              className=\"canvasBoard\"\n              sendLine={sendLine}\n              lines={lines}\n              currentUser={currentUser}\n            />\n            <div className=\"right-guide\" />\n          </div>\n        </div>\n      )}\n      { showEmojiPicker && (<div className=\"emojiPicker\"><Picker onEmojiClick={onEmojiClick} /></div>)}\n    </div>\n  );\n};\n\n// onEmojiClick\nexport default Chat;\n","import React, { useState } from 'react';\nimport { CopyToClipboard } from 'react-copy-to-clipboard';\nimport Modal from 'react-bootstrap/Modal';\nimport Button from 'react-bootstrap/Button';\nimport TextField from '@material-ui/core/TextField';\nimport channelService from '../../../../service/channelService';\n\n\nconst InviteLink = ({ channel }) => {\n  const [show, setShow] = useState(false);\n  const [invite, setInvite] = useState({\n    ready: false,\n    link: '',\n  });\n\n  const handleClose = () => setShow(false);\n\n  const createInvite = () => {\n    channelService\n      .getInvite(channel)\n      .then(({ channelID }) => setInvite({\n        ready: true,\n        link: channelID,\n      }))\n      .then(() => { setShow(true); });\n  };\n\n  return (\n    <>\n      <Button className=\"inviteLinkModalButton\" variant=\"primary\" onClick={createInvite}>\n        Create Invite Link\n      </Button>\n\n      <Modal className=\"inviteLinkModalContainer\" show={show} onHide={handleClose}>\n        <Modal.Header closeButton>\n          <Modal.Title>Invite Link</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <div className=\"invitePopup\">\n            <TextField defaultValue={invite.link} />\n            <CopyToClipboard\n              text={invite.link}\n            >\n              <Button type=\"button\">\n                Copy to clipboard!\n              </Button>\n            </CopyToClipboard>\n          </div>\n        </Modal.Body>\n        <Modal.Footer>\n          <Button variant=\"secondary\" onClick={handleClose}>\n            Close\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    </>\n  );\n};\n\nexport default InviteLink;\n","/* eslint-disable jsx-a11y/click-events-have-key-events */\n/* eslint-disable jsx-a11y/no-static-element-interactions */\n/* eslint-disable react/prop-types */\nimport React from 'react';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport Avatar from '@material-ui/core/Avatar';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\nimport Badge from '@material-ui/core/Badge';\n\nconst StyledBadgeOnline = withStyles((theme) => ({\n  badge: {\n    backgroundColor: '#44b700',\n    color: '#44b700',\n    boxShadow: `0 0 0 2px ${theme.palette.background.paper}`,\n    '&::after': {\n      position: 'absolute',\n      top: 0,\n      left: 0,\n      width: '100%',\n      height: '100%',\n      borderRadius: '50%',\n      animation: '$ripple 1.2s infinite ease-in-out',\n      border: '1px solid currentColor',\n      content: '\"\"',\n    },\n  },\n  '@keyframes ripple': {\n    '0%': {\n      transform: 'scale(.8)',\n      opacity: 1,\n    },\n    '100%': {\n      transform: 'scale(2.4)',\n      opacity: 0,\n    },\n  },\n}))(Badge);\n\nconst StyledBadgeOffline = withStyles((theme) => ({\n  badge: {\n    backgroundColor: 'gray',\n    color: '#f7f7f7',\n    boxShadow: `0 0 0 2px ${theme.palette.background.paper}`,\n    '&::after': {\n      position: 'absolute',\n      top: 0,\n      left: 0,\n      width: '100%',\n      height: '100%',\n      borderRadius: '50%',\n      animation: '$ripple 1.2s infinite ease-in-out',\n      border: '1px solid currentColor',\n      content: '\"\"',\n    },\n  },\n  '@keyframes ripple': {\n    '0%': {\n      transform: 'scale(.8)',\n      opacity: 1,\n    },\n    '100%': {\n      transform: 'scale(2.4)',\n      opacity: 0,\n    },\n  },\n}))(Badge);\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    '& > *': {\n      margin: theme.spacing(1),\n    },\n  },\n}));\n\nconst UserItem = ({ name, online }) => {\n  const classes = useStyles();\n  return (\n    <ListItem>\n      <ListItemAvatar>\n        <div className={classes.root}>\n          {online\n            ? (\n              <StyledBadgeOnline\n                overlap=\"circle\"\n                anchorOrigin={{\n                  vertical: 'bottom',\n                  horizontal: 'right',\n                }}\n                variant=\"dot\"\n              >\n                <Avatar alt={name} />\n              </StyledBadgeOnline>\n            )\n            : (\n              <StyledBadgeOffline\n                overlap=\"circle\"\n                anchorOrigin={{\n                  vertical: 'bottom',\n                  horizontal: 'right',\n                }}\n                variant=\"dot\"\n              >\n                <Avatar alt={name} />\n              </StyledBadgeOffline>\n            )}\n        </div>\n      </ListItemAvatar>\n      <p className=\"userNameItem\">{name.length < 8 ? name : `${name.slice(0, 8)}...`}</p>\n    </ListItem>\n  );\n};\n\nexport default UserItem;\n","/* eslint-disable react/prop-types */\nimport React from 'react';\nimport List from '@material-ui/core/List';\nimport Divider from '@material-ui/core/Divider';\nimport UserItem from './UserItem';\n\nconst UserList = ({ userStatus }) => {\n  const userListContainer = userStatus ? userStatus.map((element) => {\n    const { username, id, online } = element;\n    console.log(username, id, online);\n    return (\n      <div key={`${id}`} className=\"userItems\">\n        {id\n          ? (\n            <div>\n              <UserItem\n                name={username}\n                online={online}\n              />\n              <Divider />\n            </div>\n          )\n          : <div />}\n      </div>\n    );\n  }) : <p>Loading...</p>;\n\n  return (\n    <div className=\"userListContainer\">\n      <p className=\"onlineUsers\">Online Users</p>\n      <div className=\"userList\">\n        <List>\n          {userListContainer}\n        </List>\n      </div>\n    </div>\n  );\n};\n\nexport default UserList;\n","import React from 'react';\nimport UserList from '../../UserList/UserList';\n\nconst RightUI = ({ userList, userStatus, changeView }) => {\n  function toggleStalkerMap() {\n    changeView((prev) => (\n      {\n        imageBox: false,\n        stalkerMap: !prev.stalkerMap,\n        video: false,\n        canvasBox: false,\n      }));\n  }\n\n  function toggleImageBox() {\n    changeView((prev) => (\n      {\n        stalkerMap: false,\n        imageBox: !prev.imageBox,\n        video: false,\n        canvasBox: false,\n      }));\n  }\n\n  function toggleVideoSync() {\n    changeView((prev) => (\n      {\n        stalkerMap: false,\n        imageBox: false,\n        video: !prev.video,\n        canvasBox: false,\n      }\n    ));\n  }\n\n  function toggleCanvasBox() {\n    changeView((prev) => (\n      {\n        stalkerMap: false,\n        imageBox: false,\n        video: false,\n        canvasBox: !prev.canvasBox,\n      }\n    ));\n  }\n\n  return (\n    <div className=\"rightBarUI\">\n      <div className=\"widgetList\">\n        <button type=\"button\" aria-label=\"stalker\" id=\"stalkerMapButton\" onClick={toggleStalkerMap} />\n        <button type=\"button\" aria-label=\"gallery\" id=\"photoGalleryButton\" onClick={toggleImageBox} />\n        <button type=\"button\" aria-label=\"video\" id=\"videoSyncButton\" onClick={toggleVideoSync} />\n        <button type=\"button\" aria-label=\"canvas\" id=\"photoCanvasButton\" onClick={toggleCanvasBox} />\n      </div>\n      <hr />\n      <UserList userList={userList} userStatus={userStatus} />\n    </div>\n  );\n};\n\nexport default RightUI;\n","import React, { useState } from 'react';\n\nimport Chat from './Container/Chat/Chat';\nimport InviteLink from './ChannelUI/InviteLink';\nimport RightUI from './ChannelUI/RightUI';\n\nimport './channelStyling.css';\n\nconst Channel = ({\n  channel,\n  userList,\n  userStatus,\n  name,\n  messages,\n  emitSendMessage,\n  emitDeleteMessage,\n  locations,\n  center,\n  currentUser,\n  changeVideoState,\n  videoStates,\n  syncVideo,\n  sendLine,\n  lines,\n  isGuest,\n  setState,\n}) => {\n  const [moduleView, changeView] = useState({\n    stalkerMap: false,\n    imageBox: false,\n    video: false,\n    canvasBox: false,\n  });\n\n\n  return (\n    <div id=\"channel\">\n      <div id=\"channelName\">{name}</div>\n      <InviteLink\n        channel={channel}\n      />\n      <div id=\"chat-righUi\">\n        <Chat\n          messages={messages}\n          emitSendMessage={emitSendMessage}\n          emitDeleteMessage={emitDeleteMessage}\n          channel={channel}\n          currentUser={currentUser}\n          moduleView={moduleView}\n          locations={locations}\n          center={center}\n          videoStates={videoStates}\n          changeVideoState={changeVideoState}\n          syncVideo={syncVideo}\n          sendLine={sendLine}\n          lines={lines}\n        />\n        <RightUI\n          changeView={changeView}\n          userList={userList}\n          userStatus={userStatus}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default Channel;\n","import React from 'react';\nimport Modal from 'react-bootstrap/Modal';\nimport { useField } from '../../hooks/useField';\n\nconst PopupToast = ({\n  emitCreateChannel, emitJoinChannel, show, toggleForm,\n}) => {\n  const channelName = useField('text');\n  const channelLink = useField('text');\n\n  const handleClose = () => toggleForm(false);\n\n  const createChannel = async (e) => {\n    e.preventDefault();\n    emitCreateChannel(channelName.value);\n    channelName.reset();\n    handleClose();\n  };\n\n  const joinChannel = (e) => {\n    e.preventDefault();\n    emitJoinChannel(channelLink.value);\n    channelLink.reset();\n    handleClose();\n  };\n  return (\n    <Modal className=\"newChannelModal\" show={show} onHide={handleClose}>\n      <Modal.Header closeButton>\n        <Modal.Title>New Channel</Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        <div className=\"seperate\">\n          <form className=\"createChannelForm\">\n            <p style={{\n              textAlign: 'center', fontSize: '20px', color: 'rgb(60, 163, 116)', margin: '0',\n            }}\n            >\n            CREATE\n            </p>\n            <p style={{ textAlign: 'center', fontSize: '12px' }}>Create a new server and invite your friends!</p>\n            <div className=\"createChannelImageContainer\">\n              <div className=\"joinChannelImage\" />\n            </div>\n            <input\n              {...channelName}\n              reset={undefined}\n              placeholder=\"Channel Name\"\n              onKeyPress={(e) => (e.key === 'Enter' ? createChannel(e) : null)}\n            />\n            <button className=\"createChannelButton\" type=\"button\" onClick={(e) => createChannel(e)}>\n              Create\n            </button>\n          </form>\n          <div className=\"divider\" />\n          <form className=\"joinChannelForm\">\n            <p style={{\n              textAlign: 'center', fontSize: '20px', color: 'rgb(114, 137, 218)', margin: '0',\n            }}\n            >\n              JOIN\n            </p>\n            <p style={{ textAlign: 'center', fontSize: '12px' }}>Enter an invite and join your friends server!</p>\n            <div className=\"createChannelImageContainer\">\n              <div className=\"createChannelImage\" />\n            </div>\n            <input\n              {...channelLink}\n              reset={undefined}\n              placeholder=\"Channel Link\"\n              onKeyPress={(e) => (e.key === 'Enter' ? joinChannel(e) : null)}\n            />\n            <button className=\"joinChannelButton\" type=\"button\" onClick={(e) => joinChannel(e)}>\n              Join\n            </button>\n          </form>\n        </div>\n      </Modal.Body>\n      <Modal.Footer>\n      </Modal.Footer>\n    </Modal>\n  );\n};\n\nexport default PopupToast;\n","import axios from 'axios';\nimport { serverURL } from '../utils/config';\n\n// eslint-disable-next-line import/prefer-default-export\nexport const useChat = (state, setState, socket) => {\n  const updateMaps = (channel) => {\n    const locationObj = {\n      channel,\n      location: state.center,\n      authorization: state.authorization,\n    };\n    socket.emit('update maps', locationObj);\n  };\n\n  const emitSendMessage = (message, video, image) => {\n    const channelID = state.currentChannel;\n    const messageObj = {\n      message,\n      channelID,\n      authorization: state.authorization,\n      username: state.username,\n      video,\n      image,\n    };\n    socket.emit('message', messageObj, (newMessageObj) => {\n      setState((prev) => (\n        {\n          ...prev,\n          channelStates: {\n            ...prev.channelStates,\n            [channelID]: {\n              ...prev.channelStates[channelID],\n              messages: prev.channelStates[channelID].messages.concat(newMessageObj),\n            },\n          },\n        }));\n    });\n  };\n\n  const emitCreateChannel = (channelName) => {\n    const createChannelObj = {\n      channelName,\n      authorization: state.authorization,\n    };\n    socket.emit('create channel', createChannelObj, (channelData) => {\n      const { data, messages } = channelData;\n      const { channel } = data;\n\n      // initializes a folder in the photo cloud for this channel\n      const request = { channelId: `${channel}/chat`, albumName: false };\n      axios.post(`${serverURL}/api/photos/createEmptyFolder`, { body: JSON.stringify(request) });\n\n      updateMaps(channel);\n\n      setState((prev) => (\n        {\n          ...prev,\n          videoStates: {\n            ...prev.videoStates,\n            [channel]: {\n              url: '5mGuCdlCcNM',\n            },\n          },\n          channelStates: {\n            ...prev.channelStates,\n            [channel]: {\n              ...data,\n              messages,\n            },\n          },\n        }\n      ));\n    });\n  };\n\n  const emitJoinChannel = (channelLink) => {\n    const joinChannelObj = {\n      channelLink,\n      authorization: state.authorization,\n    };\n    socket.emit('join channel', joinChannelObj, (channelData) => {\n      const { error, data, messages } = channelData;\n      if (!error) {\n        const { channel } = data;\n\n        updateMaps(channel);\n        setState((prev) => (\n          {\n            ...prev,\n            videoStates: {\n              ...prev.videoStates,\n              [channel]: {\n                url: '5mGuCdlCcNM',\n              },\n            },\n            channelStates: {\n              ...prev.channelStates,\n              [channel]: {\n                ...data,\n                messages,\n              },\n            },\n          }\n        ));\n      }\n    });\n  };\n\n  return {\n    emitSendMessage,\n    emitJoinChannel,\n    emitCreateChannel,\n  };\n};\n","// eslint-disable-next-line import/prefer-default-export\nexport const useYoutube = (state, setState, socket) => {\n  const changeVideoState = (url, channel, paused, played) => {\n    if (socket) {\n      const videoObj = {\n        url,\n        paused,\n        played,\n        channel,\n        authorization: state.authorization,\n      };\n      setState((prev) => ({\n        ...prev,\n        videoStates: {\n          ...prev.videoStates,\n          [channel]: {\n            url,\n            paused,\n            played,\n          },\n        },\n      }));\n      socket.emit('change video state', videoObj);\n    }\n  };\n\n  const syncVideo = (data, channel) => {\n    if (socket) {\n      const timeObj = {\n        time: data,\n        channel,\n        authorization: state.authorization,\n      };\n      socket.emit('change video time', timeObj);\n    }\n  };\n\n  return {\n    changeVideoState,\n    syncVideo,\n  };\n};\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport GuestRegisterBanner from './GuestRegisterBanner';\n\nconst NavBar = ({ state, setState, logOut }) => ((\n  <div>\n    <nav className=\"navLogout\">\n      <div className=\"username\">\n        {state.username && <i className=\"fas fa-user-circle\" />}\n        <span className=\"usernameText\">{state.username}</span>\n      </div>\n      {state.guest === 'true' ? <GuestRegisterBanner setState={setState} /> : null}\n      {state.authorization ? <Link className=\"logoutButton\" to=\"/\" onClick={logOut}> Logout </Link> : null}\n    </nav>\n  </div>\n));\n\nexport default NavBar;\n","import React, { useState, useEffect } from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport {\n  BrowserRouter as Router,\n  Route,\n  Redirect,\n  // useParams,\n} from 'react-router-dom';\nimport Landing from './components/Landing/Landing';\nimport Home from './components/Home/Home';\nimport NavBar from './components/Navbar/NavBar';\n\nconst App = () => {\n  // state of the client app\n  const [state, setState] = useState({\n    guest: true,\n    currentUser: '',\n    currentChannel: '',\n    authorization: '',\n    username: '',\n    channelStates: {},\n    locations: {},\n    center: {},\n    users: {},\n    videoStates: {},\n    loaded: false,\n    currentChannelLoaded: false,\n    newChannelForm: false,\n    lines: {},\n  });\n\n  // logout resets app\n  const logOut = () => {\n    window.localStorage.clear();\n    setState({\n      guest: true,\n      currentUser: '',\n      currentChannel: '',\n      authorization: '',\n      username: '',\n      channelStates: {},\n      locations: {},\n      center: {},\n      users: {},\n      videoStates: {},\n      loaded: false,\n      currentChannelLoaded: false,\n      newChannelForm: false,\n      lines: {},\n    });\n  };\n\n  useEffect(() => {\n    // load the data if the user was already logged in\n    setState((prev) => ({\n      ...prev,\n      authorization: window.localStorage.getItem('authorization'),\n      username: window.localStorage.getItem('username'),\n      guest: window.localStorage.getItem('guest'),\n      currentUser: window.localStorage.getItem('userID'),\n    }));\n  }, []);\n\n  return (\n    <div id=\"app\">\n      <Router>\n        <NavBar\n          logOut={logOut}\n          state={state}\n          setState={setState}\n        />\n        <Route\n          exact\n          path=\"/\"\n          render={() => (\n            state.authorization\n              ? <Redirect to=\"/home\" />\n              : (\n                <Landing\n                  setState={setState}\n                />\n              )\n          )}\n        />\n        <Route\n          exact\n          from=\"/home\"\n          render={() => (\n            state.authorization\n              ? (\n                <Home\n                  state={state}\n                  setState={setState}\n                />\n              )\n              : <Redirect to=\"/\" />\n          )}\n        />\n      </Router>\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport App from './App';\nimport './styles.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","/* eslint-disable radix */\nlet mousePosition;\nlet box;\nlet boxHeight;\n\nfunction resize(e) {\n  e.preventDefault();\n  const dx = mousePosition - e.y;\n  mousePosition = e.y;\n  box.style.height = `${parseInt(getComputedStyle(box, '').height) - dx}px`;\n}\nconst mouseDownFunction = (e) => {\n  box = e.target;\n  boxHeight = parseInt(getComputedStyle(box, '').height) - 15;\n  if (e.nativeEvent.offsetY >= boxHeight) {\n    mousePosition = e.y;\n    document.addEventListener('mousemove', resize, false);\n  }\n};\n\ndocument.addEventListener('mouseup', () => {\n  document.removeEventListener('mousemove', resize, false);\n}, false);\n\nmodule.exports = { mouseDownFunction };\n"],"sourceRoot":""}