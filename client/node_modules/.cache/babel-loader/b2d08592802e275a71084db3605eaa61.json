{"ast":null,"code":"var _jsxFileName = \"/home/hei/Documents/finals/JEK/client/src/App.js\";\nimport React, { useState, useEffect } from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { BrowserRouter as Router, Route, Redirect // useParams,\n} from 'react-router-dom';\nimport Landing from './components/Landing/Landing';\nimport Home from './components/Home/Home';\nimport NavBar from './components/Navbar/NavBar';\n\nconst App = () => {\n  // state of the client app\n  const [state, setState] = useState({\n    guest: true,\n    currentUser: '',\n    currentChannel: '',\n    authorization: '',\n    username: '',\n    channelStates: {},\n    locations: {},\n    center: {},\n    users: {},\n    loaded: false,\n    currentChannelLoaded: false,\n    newChannelForm: false\n  }); // logout resets app\n\n  const logOut = () => {\n    window.localStorage.clear();\n    setState({\n      guest: true,\n      currentUser: '',\n      currentChannel: '',\n      authorization: '',\n      username: '',\n      channelStates: {},\n      locations: {},\n      center: {},\n      users: {}\n    });\n  };\n\n  useEffect(() => {\n    // load the data if the user was already logged in\n    setState(prev => ({ ...prev,\n      authorization: window.localStorage.getItem('authorization'),\n      username: window.localStorage.getItem('username'),\n      guest: window.localStorage.getItem('guest'),\n      currentUser: window.localStorage.getItem('userID')\n    }));\n  }, []); // TODO: Reloading channel should bring back to channel\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, React.createElement(Router, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, React.createElement(NavBar, {\n    logOut: logOut,\n    state: state,\n    setState: setState,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }), console.log(state), React.createElement(Route, {\n    exact: true,\n    path: \"/\",\n    render: () => state.authorization ? React.createElement(Redirect, {\n      to: \"/home\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }) : React.createElement(Landing, {\n      setState: setState,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }), React.createElement(Route, {\n    exact: true,\n    from: \"/home\",\n    render: () => state.authorization ? React.createElement(Home, {\n      state: state,\n      setState: setState,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }) : React.createElement(Redirect, {\n      to: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/channel\",\n    render: () => state.authorization ? React.createElement(Home, {\n      state: state,\n      setState: setState,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }) : React.createElement(Redirect, {\n      from: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  })));\n};\n\nexport default App;","map":{"version":3,"sources":["/home/hei/Documents/finals/JEK/client/src/App.js"],"names":["React","useState","useEffect","BrowserRouter","Router","Route","Redirect","Landing","Home","NavBar","App","state","setState","guest","currentUser","currentChannel","authorization","username","channelStates","locations","center","users","loaded","currentChannelLoaded","newChannelForm","logOut","window","localStorage","clear","prev","getItem","console","log"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport {\n  BrowserRouter as Router,\n  Route,\n  Redirect,\n  // useParams,\n} from 'react-router-dom';\nimport Landing from './components/Landing/Landing';\nimport Home from './components/Home/Home';\nimport NavBar from './components/Navbar/NavBar';\n\nconst App = () => {\n  // state of the client app\n  const [state, setState] = useState({\n    guest: true,\n    currentUser: '',\n    currentChannel: '',\n    authorization: '',\n    username: '',\n    channelStates: {},\n    locations: {},\n    center: {},\n    users: {},\n    loaded: false,\n    currentChannelLoaded: false,\n    newChannelForm: false,\n  });\n\n  // logout resets app\n  const logOut = () => {\n    window.localStorage.clear();\n    setState({\n      guest: true,\n      currentUser: '',\n      currentChannel: '',\n      authorization: '',\n      username: '',\n      channelStates: {},\n      locations: {},\n      center: {},\n      users: {},\n    });\n  };\n\n  useEffect(() => {\n    // load the data if the user was already logged in\n    setState((prev) => ({\n      ...prev,\n      authorization: window.localStorage.getItem('authorization'),\n      username: window.localStorage.getItem('username'),\n      guest: window.localStorage.getItem('guest'),\n      currentUser: window.localStorage.getItem('userID'),\n    }));\n  }, []);\n\n  // TODO: Reloading channel should bring back to channel\n  return (\n    <div>\n      <Router>\n        <NavBar\n          logOut={logOut}\n          state={state}\n          setState={setState}\n        />\n        {console.log(state)}\n\n        <Route\n          exact\n          path=\"/\"\n          render={() => (\n            state.authorization\n              ? <Redirect to=\"/home\" />\n              : (\n                <Landing\n                  setState={setState}\n                />\n              )\n          )}\n        />\n        <Route\n          exact\n          from=\"/home\"\n          render={() => (\n            state.authorization\n              ? (\n                <Home\n                  state={state}\n                  setState={setState}\n                />\n              )\n              : <Redirect to=\"/\" />\n          )}\n        />\n        <Route\n          path=\"/channel\"\n          render={() => (\n            state.authorization\n              ? (\n                <Home\n                  state={state}\n                  setState={setState}\n                />\n              )\n              : <Redirect from=\"/\" />\n          )}\n        />\n      </Router>\n    </div>\n  );\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}