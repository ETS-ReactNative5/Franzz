{"ast":null,"code":"import _slicedToArray from\"/home/hei/Documents/finals/JEK/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import'./Styling/galleryStyling.css';import'./Styling/PopUpBoxStyling.css';import PhotoItem from'./PhotoItem';import'./Styling/imageBox.css';import{serverURL}from'../../../../../utils/config';export default function GalleryDisplay(_ref){var path=_ref.path,title=_ref.title,isAlbum=_ref.isAlbum,addPhotos=_ref.addPhotos,openLightboxOnSlide=_ref.openLightboxOnSlide,changeLinks=_ref.changeLinks;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),photos=_useState2[0],setPhotos=_useState2[1];useEffect(function(){fetch(\"\".concat(serverURL,\"/api/photos/getChannelPhotos/\").concat(path)).then(function(res){return res.json();}).then(function(data){return data.resources;}).then(function(allPhotos){console.log('allPhotos:',allPhotos);setPhotos(allPhotos);});},[path]);var allImages=[];var slide=0;photos.forEach(function(img){slide+=1;allImages.push(React.createElement(PhotoItem,{key:img.public_id,publicKey:img.public_id,url:img.url,fileType:img.resource_type,showSlide:openLightboxOnSlide,slide:slide}));});// formats the images for the grid\nvar images=[[],[],[],[]];var column=0;allImages.forEach(function(image){images[column].push(image);if(column===3){column=0;}else{column+=1;}});useEffect(function(){var imageLinks=photos.map(function(image){return image.url;});changeLinks(imageLinks);},[changeLinks,photos]);return React.createElement(\"div\",null,React.createElement(\"div\",{className:\"popup-title\"},title),isAlbum&&React.createElement(\"button\",{type:\"button\",className:\"adding-button-mod\",onClick:function onClick(){return addPhotos('addAlbumPhotos');}},React.createElement(\"span\",null,\"+\")),React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"column\"},images[0]),React.createElement(\"div\",{className:\"column\"},images[1]),React.createElement(\"div\",{className:\"column\"},images[2]),React.createElement(\"div\",{className:\"column\"},images[3])));}","map":{"version":3,"sources":["/home/hei/Documents/finals/JEK/client/src/components/Home/Channel/Modules/Photos/galleryDisplay.js"],"names":["React","useState","useEffect","PhotoItem","serverURL","GalleryDisplay","path","title","isAlbum","addPhotos","openLightboxOnSlide","changeLinks","photos","setPhotos","fetch","then","res","json","data","resources","allPhotos","console","log","allImages","slide","forEach","img","push","public_id","url","resource_type","images","column","image","imageLinks","map"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './Styling/galleryStyling.css';\nimport './Styling/PopUpBoxStyling.css';\nimport PhotoItem from './PhotoItem';\nimport './Styling/imageBox.css';\nimport { serverURL } from '../../../../../utils/config';\n\nexport default function GalleryDisplay({\n  path, title, isAlbum, addPhotos, openLightboxOnSlide, changeLinks,\n}) {\n  const [photos, setPhotos] = useState([]);\n\n  useEffect(() => {\n    fetch(`${serverURL}/api/photos/getChannelPhotos/${path}`)\n      .then((res) => res.json())\n      .then((data) => data.resources)\n      .then((allPhotos) => { console.log('allPhotos:', allPhotos); setPhotos(allPhotos); });\n  }, [path]);\n\n\n  const allImages = [];\n  let slide = 0;\n  photos.forEach((img) => {\n    slide += 1;\n    allImages.push(\n      <PhotoItem\n        key={img.public_id}\n        publicKey={img.public_id}\n        url={img.url}\n        fileType={img.resource_type}\n        showSlide={openLightboxOnSlide}\n        slide={slide}\n      />,\n    );\n  });\n\n\n  // formats the images for the grid\n  const images = [[], [], [], []];\n  let column = 0;\n  allImages.forEach((image) => {\n    images[column].push(image);\n    if (column === 3) {\n      column = 0;\n    } else {\n      column += 1;\n    }\n  });\n\n  useEffect(() => {\n    const imageLinks = photos.map((image) => image.url);\n    changeLinks(imageLinks);\n  }, [changeLinks, photos]);\n\n  return (\n    <div>\n      <div className=\"popup-title\">{title}</div>\n      {isAlbum && <button type=\"button\" className=\"adding-button-mod\" onClick={() => addPhotos('addAlbumPhotos')}><span>+</span></button>}\n      <div className=\"row\">\n        <div className=\"column\">\n          {images[0]}\n        </div>\n        <div className=\"column\">\n          {images[1]}\n        </div>\n        <div className=\"column\">\n          {images[2]}\n        </div>\n        <div className=\"column\">\n          {images[3]}\n        </div>\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}