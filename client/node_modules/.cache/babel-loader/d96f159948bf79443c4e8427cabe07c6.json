{"ast":null,"code":"import _toConsumableArray from\"/home/hei/Documents/finals/JEK/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/home/hei/Documents/finals/JEK/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import axios from'axios';import Album from'./Album';import{serverURL}from'../../../../../utils/config';export default function AlbumDisplay(_ref){var change=_ref.change,channelId=_ref.channelId,viewAlbum=_ref.viewAlbum;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),albums=_useState2[0],setAlbums=_useState2[1];// gets all the albums in the channel\nuseEffect(function(){axios.get(\"\".concat(serverURL,\"/api/photos/getAlbums/\").concat(channelId)).then(function(res){var folders=res.data.folders;folders.forEach(function(album){setAlbums(function(prev){return[].concat(_toConsumableArray(prev),[album]);});});});},[channelId]);var allAlbums=albums.map(function(a){return React.createElement(Album,{key:a.name,name:a.name.replace(/-/g,' '),path:a.path,viewAlbum:viewAlbum});});return React.createElement(\"div\",null,React.createElement(\"div\",{className:\"popup-title\"},\"Albums\"),React.createElement(\"button\",{className:\"adding-button\",onClick:function onClick(){return change('albumForm');}},\"+\",React.createElement(\"span\",null)),React.createElement(\"div\",{id:\"album-box\"},allAlbums));}","map":{"version":3,"sources":["/home/hei/Documents/finals/JEK/client/src/components/Home/Channel/Modules/Photos/AlbumDisplay.js"],"names":["React","useState","useEffect","axios","Album","serverURL","AlbumDisplay","change","channelId","viewAlbum","albums","setAlbums","get","then","res","folders","data","forEach","album","prev","allAlbums","map","a","name","replace","path"],"mappings":"wPAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,SAAlB,CACA,OAASC,SAAT,KAA0B,6BAA1B,CAEA,cAAe,SAASC,CAAAA,YAAT,MAAwD,IAAhCC,CAAAA,MAAgC,MAAhCA,MAAgC,CAAxBC,SAAwB,MAAxBA,SAAwB,CAAbC,SAAa,MAAbA,SAAa,eACzCR,QAAQ,CAAC,EAAD,CADiC,wCAC9DS,MAD8D,eACtDC,SADsD,eAGrE;AACAT,SAAS,CAAC,UAAM,CACdC,KAAK,CAACS,GAAN,WAAaP,SAAb,kCAA+CG,SAA/C,GACGK,IADH,CACQ,SAACC,GAAD,CAAS,IACLC,CAAAA,OADK,CACOD,GAAG,CAACE,IADX,CACLD,OADK,CAEbA,OAAO,CAACE,OAAR,CAAgB,SAACC,KAAD,CAAW,CACzBP,SAAS,CAAC,SAACQ,IAAD,qCAAcA,IAAd,GAAoBD,KAApB,IAAD,CAAT,CACD,CAFD,EAGD,CANH,EAOD,CARQ,CAQN,CAACV,SAAD,CARM,CAAT,CAUA,GAAMY,CAAAA,SAAS,CAAGV,MAAM,CAACW,GAAP,CAAW,SAACC,CAAD,QAC3B,qBAAC,KAAD,EACE,GAAG,CAAEA,CAAC,CAACC,IADT,CAEE,IAAI,CAAED,CAAC,CAACC,IAAF,CAAOC,OAAP,CAAe,IAAf,CAAqB,GAArB,CAFR,CAGE,IAAI,CAAEF,CAAC,CAACG,IAHV,CAIE,SAAS,CAAEhB,SAJb,EAD2B,EAAX,CAAlB,CASA,MACE,gCACE,2BAAK,SAAS,CAAC,aAAf,WADF,CAEI,8BAAQ,SAAS,CAAC,eAAlB,CAAkC,OAAO,CAAE,yBAAMF,CAAAA,MAAM,CAAC,WAAD,CAAZ,EAA3C,MAAuE,gCAAvE,CAFJ,CAGE,2BAAK,EAAE,CAAC,WAAR,EACGa,SADH,CAHF,CADF,CASD","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Album from './Album';\nimport { serverURL } from '../../../../../utils/config';\n\nexport default function AlbumDisplay({ change, channelId, viewAlbum }) {\n  const [albums, setAlbums] = useState([]);\n\n  // gets all the albums in the channel\n  useEffect(() => {\n    axios.get(`${serverURL}/api/photos/getAlbums/${channelId}`)\n      .then((res) => {\n        const { folders } = res.data;\n        folders.forEach((album) => {\n          setAlbums((prev) => [...prev, album]);\n        });\n      });\n  }, [channelId]);\n\n  const allAlbums = albums.map((a) => (\n    <Album\n      key={a.name}\n      name={a.name.replace(/-/g, ' ')}\n      path={a.path}\n      viewAlbum={viewAlbum}\n    />\n  ));\n\n  return (\n    <div>\n      <div className=\"popup-title\">Albums</div>\n        <button className=\"adding-button\" onClick={() => change('albumForm')}>+<span></span></button>\n      <div id=\"album-box\">\n        {allAlbums}\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}