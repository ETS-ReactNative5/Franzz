{"ast":null,"code":"var _jsxFileName = \"/home/hei/Documents/finals/JEK/client/src/components/Home/Channel/Modules/VideoSync/YoutubeVideoPlayer.js\";\nimport React, { useEffect } from 'react';\nimport YouTube from 'react-youtube';\nlet player;\n\nconst YoutubeVideoPlayer = ({\n  currentVideo,\n  changeVideoState,\n  paused,\n  played,\n  channel,\n  syncVideo,\n  timeStamp\n}) => {\n  function onReady(event) {\n    player = event.target;\n\n    if (timeStamp && player.b) {\n      player.seekTo(timeStamp, true);\n    }\n\n    syncVideo(player.getCurrentTime(), channel);\n\n    if (paused) {\n      event.target.pauseVideo();\n    }\n\n    event.target.playVideo();\n  }\n\n  useEffect(() => {\n    if (paused && player && player.b) {\n      player.pauseVideo();\n    } else if (played && player && player.b) {\n      player.playVideo();\n    }\n  }, [paused, played]);\n  useEffect(() => {\n    if (timeStamp && player && player.b) {\n      if (Math.abs(player.getCurrentTime() - timeStamp) > 1) {\n        player.seekTo(timeStamp, true);\n      }\n    }\n  }, [timeStamp]);\n\n  function onPlayerStateChange(event) {\n    const state = event.data;\n    syncVideo(player.getCurrentTime(), channel);\n\n    if (state === 1) {\n      // if the video is playing\n      changeVideoState(currentVideo, channel, false, true);\n    } else if (state === 2) {\n      // if the video is paused\n      changeVideoState(currentVideo, channel, true, false);\n    }\n  }\n\n  const opts = {\n    height: '500',\n    width: '840',\n    playerVars: {\n      // https://developers.google.com/youtube/player_parameters\n      autoplay: 1\n    }\n  };\n  return React.createElement(YouTube, {\n    id: \"youtube-player\",\n    videoId: currentVideo,\n    opts: opts,\n    onReady: onReady,\n    onStateChange: onPlayerStateChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  });\n};\n\nexport default YoutubeVideoPlayer;","map":{"version":3,"sources":["/home/hei/Documents/finals/JEK/client/src/components/Home/Channel/Modules/VideoSync/YoutubeVideoPlayer.js"],"names":["React","useEffect","YouTube","player","YoutubeVideoPlayer","currentVideo","changeVideoState","paused","played","channel","syncVideo","timeStamp","onReady","event","target","b","seekTo","getCurrentTime","pauseVideo","playVideo","Math","abs","onPlayerStateChange","state","data","opts","height","width","playerVars","autoplay"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,OAAP,MAAoB,eAApB;AAEA,IAAIC,MAAJ;;AAEA,MAAMC,kBAAkB,GAAG,CAAC;AAC1BC,EAAAA,YAD0B;AACZC,EAAAA,gBADY;AACMC,EAAAA,MADN;AACcC,EAAAA,MADd;AACsBC,EAAAA,OADtB;AAC+BC,EAAAA,SAD/B;AAC0CC,EAAAA;AAD1C,CAAD,KAErB;AACJ,WAASC,OAAT,CAAiBC,KAAjB,EAAwB;AACtBV,IAAAA,MAAM,GAAGU,KAAK,CAACC,MAAf;;AACA,QAAIH,SAAS,IAAIR,MAAM,CAACY,CAAxB,EAA2B;AACzBZ,MAAAA,MAAM,CAACa,MAAP,CAAcL,SAAd,EAAyB,IAAzB;AACD;;AACDD,IAAAA,SAAS,CAACP,MAAM,CAACc,cAAP,EAAD,EAA0BR,OAA1B,CAAT;;AACA,QAAIF,MAAJ,EAAY;AACVM,MAAAA,KAAK,CAACC,MAAN,CAAaI,UAAb;AACD;;AACDL,IAAAA,KAAK,CAACC,MAAN,CAAaK,SAAb;AACD;;AAEDlB,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIM,MAAM,IAAIJ,MAAV,IAAoBA,MAAM,CAACY,CAA/B,EAAkC;AAChCZ,MAAAA,MAAM,CAACe,UAAP;AACD,KAFD,MAEO,IAAIV,MAAM,IAAIL,MAAV,IAAoBA,MAAM,CAACY,CAA/B,EAAkC;AACvCZ,MAAAA,MAAM,CAACgB,SAAP;AACD;AACF,GANQ,EAMN,CAACZ,MAAD,EAASC,MAAT,CANM,CAAT;AAQAP,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIU,SAAS,IAAIR,MAAb,IAAuBA,MAAM,CAACY,CAAlC,EAAqC;AACnC,UAAIK,IAAI,CAACC,GAAL,CAASlB,MAAM,CAACc,cAAP,KAA0BN,SAAnC,IAAgD,CAApD,EAAuD;AACrDR,QAAAA,MAAM,CAACa,MAAP,CAAcL,SAAd,EAAyB,IAAzB;AACD;AACF;AACF,GANQ,EAMN,CAACA,SAAD,CANM,CAAT;;AAQA,WAASW,mBAAT,CAA6BT,KAA7B,EAAoC;AAClC,UAAMU,KAAK,GAAGV,KAAK,CAACW,IAApB;AACAd,IAAAA,SAAS,CAACP,MAAM,CAACc,cAAP,EAAD,EAA0BR,OAA1B,CAAT;;AAEA,QAAIc,KAAK,KAAK,CAAd,EAAiB;AAAE;AACjBjB,MAAAA,gBAAgB,CAACD,YAAD,EAAeI,OAAf,EAAwB,KAAxB,EAA+B,IAA/B,CAAhB;AACD,KAFD,MAEO,IAAIc,KAAK,KAAK,CAAd,EAAiB;AAAE;AACxBjB,MAAAA,gBAAgB,CAACD,YAAD,EAAeI,OAAf,EAAwB,IAAxB,EAA8B,KAA9B,CAAhB;AACD;AACF;;AAED,QAAMgB,IAAI,GAAG;AACXC,IAAAA,MAAM,EAAE,KADG;AAEXC,IAAAA,KAAK,EAAE,KAFI;AAGXC,IAAAA,UAAU,EAAE;AAAE;AACZC,MAAAA,QAAQ,EAAE;AADA;AAHD,GAAb;AAQA,SACE,oBAAC,OAAD;AACE,IAAA,EAAE,EAAC,gBADL;AAEE,IAAA,OAAO,EAAExB,YAFX;AAGE,IAAA,IAAI,EAAEoB,IAHR;AAIE,IAAA,OAAO,EAAEb,OAJX;AAKE,IAAA,aAAa,EAAEU,mBALjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF;AASD,CA3DD;;AA6DA,eAAelB,kBAAf","sourcesContent":["import React, { useEffect } from 'react';\nimport YouTube from 'react-youtube';\n\nlet player;\n\nconst YoutubeVideoPlayer = ({\n  currentVideo, changeVideoState, paused, played, channel, syncVideo, timeStamp,\n}) => {\n  function onReady(event) {\n    player = event.target;\n    if (timeStamp && player.b) {\n      player.seekTo(timeStamp, true);\n    }\n    syncVideo(player.getCurrentTime(), channel);\n    if (paused) {\n      event.target.pauseVideo();\n    }\n    event.target.playVideo();\n  }\n\n  useEffect(() => {\n    if (paused && player && player.b) {\n      player.pauseVideo();\n    } else if (played && player && player.b) {\n      player.playVideo();\n    }\n  }, [paused, played]);\n\n  useEffect(() => {\n    if (timeStamp && player && player.b) {\n      if (Math.abs(player.getCurrentTime() - timeStamp) > 1) {\n        player.seekTo(timeStamp, true);\n      }\n    }\n  }, [timeStamp]);\n\n  function onPlayerStateChange(event) {\n    const state = event.data;\n    syncVideo(player.getCurrentTime(), channel);\n\n    if (state === 1) { // if the video is playing\n      changeVideoState(currentVideo, channel, false, true);\n    } else if (state === 2) { // if the video is paused\n      changeVideoState(currentVideo, channel, true, false);\n    }\n  }\n\n  const opts = {\n    height: '500',\n    width: '840',\n    playerVars: { // https://developers.google.com/youtube/player_parameters\n      autoplay: 1,\n    },\n  };\n\n  return (\n    <YouTube\n      id=\"youtube-player\"\n      videoId={currentVideo}\n      opts={opts}\n      onReady={onReady}\n      onStateChange={onPlayerStateChange}\n    />\n  );\n};\n\nexport default YoutubeVideoPlayer;\n"]},"metadata":{},"sourceType":"module"}