{"ast":null,"code":"import _regeneratorRuntime from\"/home/hei/Documents/finals/JEK/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/hei/Documents/finals/JEK/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";/* eslint-disable import/prefer-default-export */import axios from'axios';import{serverURL}from'../utils/config';var setLocalStorage=function setLocalStorage(data){var error=data.error,token=data.token,username=data.username,guest=data.guest,userID=data.userID;if(error){return false;}window.localStorage.setItem('authorization',token);window.localStorage.setItem('username',username);window.localStorage.setItem('guest',guest);window.localStorage.setItem('userID',userID);return true;};var login=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(loginObj){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.post(\"\".concat(serverURL,\"/api/auth/login\"),loginObj);case 2:res=_context.sent;return _context.abrupt(\"return\",setLocalStorage(res.data));case 4:case\"end\":return _context.stop();}}},_callee);}));return function login(_x){return _ref.apply(this,arguments);};}();var register=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(registerObj){var config,res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:config={headers:{authorization:window.localStorage.authorization}};_context2.next=3;return axios.post(\"\".concat(serverURL,\"/api/auth/register\"),registerObj,config);case 3:res=_context2.sent;return _context2.abrupt(\"return\",setLocalStorage(res.data));case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function register(_x2){return _ref2.apply(this,arguments);};}();var guestLogin=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(guestObj){var res;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return axios.post(\"\".concat(serverURL,\"/api/auth/guest\"),guestObj);case 2:res=_context3.sent;return _context3.abrupt(\"return\",setLocalStorage(res.data));case 4:case\"end\":return _context3.stop();}}},_callee3);}));return function guestLogin(_x3){return _ref3.apply(this,arguments);};}();export default{register:register,guestLogin:guestLogin,login:login,setLocalStorage:setLocalStorage};","map":{"version":3,"sources":["/home/hei/Documents/finals/JEK/client/src/service/authService.js"],"names":["axios","serverURL","setLocalStorage","data","error","token","username","guest","userID","window","localStorage","setItem","login","loginObj","post","res","register","registerObj","config","headers","authorization","guestLogin","guestObj"],"mappings":"6OAAA,iDACA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAEA,OAASC,SAAT,KAA0B,iBAA1B,CAEA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,IAAD,CAAU,IAE9BC,CAAAA,KAF8B,CAG5BD,IAH4B,CAE9BC,KAF8B,CAEvBC,KAFuB,CAG5BF,IAH4B,CAEvBE,KAFuB,CAEhBC,QAFgB,CAG5BH,IAH4B,CAEhBG,QAFgB,CAENC,KAFM,CAG5BJ,IAH4B,CAENI,KAFM,CAECC,MAFD,CAG5BL,IAH4B,CAECK,MAFD,CAIhC,GAAIJ,KAAJ,CAAW,CACT,MAAO,MAAP,CACD,CACDK,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,eAA5B,CAA6CN,KAA7C,EACAI,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,UAA5B,CAAwCL,QAAxC,EACAG,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,OAA5B,CAAqCJ,KAArC,EACAE,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,QAA5B,CAAsCH,MAAtC,EACA,MAAO,KAAP,CACD,CAZD,CAcA,GAAMI,CAAAA,KAAK,0FAAG,iBAAOC,QAAP,gJACMb,CAAAA,KAAK,CAACc,IAAN,WAAcb,SAAd,oBAA0CY,QAA1C,CADN,QACNE,GADM,+CAELb,eAAe,CAACa,GAAG,CAACZ,IAAL,CAFV,wDAAH,kBAALS,CAAAA,KAAK,4CAAX,CAKA,GAAMI,CAAAA,QAAQ,2FAAG,kBAAOC,WAAP,qIACTC,MADS,CACA,CACbC,OAAO,CAAE,CAAEC,aAAa,CAAEX,MAAM,CAACC,YAAP,CAAoBU,aAArC,CADI,CADA,wBAIGpB,CAAAA,KAAK,CAACc,IAAN,WAAcb,SAAd,uBAA6CgB,WAA7C,CAA0DC,MAA1D,CAJH,QAITH,GAJS,iDAKRb,eAAe,CAACa,GAAG,CAACZ,IAAL,CALP,0DAAH,kBAARa,CAAAA,QAAQ,8CAAd,CAQA,GAAMK,CAAAA,UAAU,2FAAG,kBAAOC,QAAP,qJACCtB,CAAAA,KAAK,CAACc,IAAN,WAAcb,SAAd,oBAA0CqB,QAA1C,CADD,QACXP,GADW,iDAEVb,eAAe,CAACa,GAAG,CAACZ,IAAL,CAFL,0DAAH,kBAAVkB,CAAAA,UAAU,8CAAhB,CAKA,cAAe,CACbL,QAAQ,CAARA,QADa,CAEbK,UAAU,CAAVA,UAFa,CAGbT,KAAK,CAALA,KAHa,CAIbV,eAAe,CAAfA,eAJa,CAAf","sourcesContent":["/* eslint-disable import/prefer-default-export */\nimport axios from 'axios';\n\nimport { serverURL } from '../utils/config';\n\nconst setLocalStorage = (data) => {\n  const {\n    error, token, username, guest, userID,\n  } = data;\n  if (error) {\n    return false;\n  }\n  window.localStorage.setItem('authorization', token);\n  window.localStorage.setItem('username', username);\n  window.localStorage.setItem('guest', guest);\n  window.localStorage.setItem('userID', userID);\n  return true;\n};\n\nconst login = async (loginObj) => {\n  const res = await axios.post(`${serverURL}/api/auth/login`, loginObj);\n  return setLocalStorage(res.data);\n};\n\nconst register = async (registerObj) => {\n  const config = {\n    headers: { authorization: window.localStorage.authorization },\n  };\n  const res = await axios.post(`${serverURL}/api/auth/register`, registerObj, config);\n  return setLocalStorage(res.data);\n};\n\nconst guestLogin = async (guestObj) => {\n  const res = await axios.post(`${serverURL}/api/auth/guest`, guestObj);\n  return setLocalStorage(res.data);\n};\n\nexport default {\n  register,\n  guestLogin,\n  login,\n  setLocalStorage,\n};\n"]},"metadata":{},"sourceType":"module"}