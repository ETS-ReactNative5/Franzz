{"ast":null,"code":"var _jsxFileName = \"/home/hei/Documents/finals/JEK/client/src/components/Navbar/GuestRegisterBanner.js\";\nimport React, { useState } from 'react';\nimport Modal from 'react-bootstrap/Modal';\nimport Button from '@material-ui/core/Button';\nimport { useField } from '../../hooks/useField';\nimport auth from '../../service/authService';\nimport GoogleLogin from '../Landing/Login/GoogleLogin';\nimport SignInInput from '../Landing/SignInInput';\n\nconst GuestRegisterBanner = ({\n  setState\n}) => {\n  const [show, setShow] = useState(false);\n  const email = useField('text');\n  const password = useField('password');\n\n  const handleClose = () => setShow(false);\n\n  const handleShow = () => setShow(true);\n\n  const handleRegister = e => {\n    e.preventDefault();\n    const registerObj = {\n      email: email.value,\n      password: password.value\n    };\n    auth.register(registerObj).then(registered => {\n      if (registered) {\n        setState(prev => ({ ...prev,\n          authorization: window.localStorage.getItem('authorization'),\n          username: window.localStorage.getItem('username'),\n          currentUser: window.localStorage.getItem('userID'),\n          guest: localStorage.getItem('guest')\n        }));\n      }\n    });\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"guestRegisterBanner\",\n    role: \"button\",\n    tabIndex: 0,\n    onKeyPress: e => e.preventDefault(),\n    onClick: e => handleShow(e),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, \"If you wish to save your username and chats the next time you visit, please create an account!\")), React.createElement(Modal, {\n    show: show,\n    onHide: handleClose,\n    className: \"NewAccountModal\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, React.createElement(Modal.Header, {\n    closeButton: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, React.createElement(Modal.Title, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  })), React.createElement(Modal.Body, {\n    className: \"NewAccountModalBody\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    className: \"NewAccountRegistrationModalForm\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, \"Welcome! Claim your account to keep all your servers and chats even after you close the browser.\"), React.createElement(\"div\", {\n    className: \"email\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, React.createElement(SignInInput, Object.assign({\n    name: \"Email\",\n    placeholder: \"email\"\n  }, email, {\n    reset: undefined,\n    handleLogin: handleRegister,\n    className: \"NewAccountModalInput\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"password\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, React.createElement(SignInInput, Object.assign({\n    name: \"Password\",\n    placeholder: \"password\"\n  }, password, {\n    reset: undefined,\n    handleLogin: handleRegister,\n    className: \"NewAccountModalInput\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  })))), React.createElement(\"div\", {\n    className: \"guestRegisterModalButtons\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, React.createElement(Button, {\n    className: \"guestRegisterModalCloseButton\",\n    onClick: handleClose,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, \"Close\"), React.createElement(Button, {\n    variant: \"primary\",\n    onClick: handleRegister,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }, \"Register\"))), React.createElement(Modal.Footer, {\n    className: \"modalFooter\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"modalDivider\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }, \" ------------- Login With Google ------------- \")), React.createElement(\"div\", {\n    className: \"guestModalGoogleLoginButton\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }, React.createElement(GoogleLogin, {\n    className: \"googleLogin\",\n    setState: setState,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  })))));\n};\n\nexport default GuestRegisterBanner;","map":{"version":3,"sources":["/home/hei/Documents/finals/JEK/client/src/components/Navbar/GuestRegisterBanner.js"],"names":["React","useState","Modal","Button","useField","auth","GoogleLogin","SignInInput","GuestRegisterBanner","setState","show","setShow","email","password","handleClose","handleShow","handleRegister","e","preventDefault","registerObj","value","register","then","registered","prev","authorization","window","localStorage","getItem","username","currentUser","guest","undefined"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport Modal from 'react-bootstrap/Modal';\nimport Button from '@material-ui/core/Button';\nimport { useField } from '../../hooks/useField';\nimport auth from '../../service/authService';\nimport GoogleLogin from '../Landing/Login/GoogleLogin';\nimport SignInInput from '../Landing/SignInInput';\n\nconst GuestRegisterBanner = ({ setState }) => {\n  const [show, setShow] = useState(false);\n\n  const email = useField('text');\n  const password = useField('password');\n\n  const handleClose = () => setShow(false);\n  const handleShow = () => setShow(true);\n\n  const handleRegister = (e) => {\n    e.preventDefault();\n    const registerObj = {\n      email: email.value,\n      password: password.value,\n    };\n    auth\n      .register(registerObj)\n      .then((registered) => {\n        if (registered) {\n          setState((prev) => ({\n            ...prev,\n            authorization: window.localStorage.getItem('authorization'),\n            username: window.localStorage.getItem('username'),\n            currentUser: window.localStorage.getItem('userID'),\n            guest: localStorage.getItem('guest'),\n          }));\n        }\n      });\n  };\n\n  return (\n    <div>\n      <div\n        className=\"guestRegisterBanner\"\n        role=\"button\"\n        tabIndex={0}\n        onKeyPress={(e) => e.preventDefault()}\n        onClick={(e) => handleShow(e)}\n      >\n        <p>If you wish to save your username and chats the next time you visit, please create an account!</p>\n      </div>\n\n      <Modal show={show} onHide={handleClose} className=\"NewAccountModal\">\n        <Modal.Header closeButton>\n          <Modal.Title></Modal.Title>\n        </Modal.Header>\n        <Modal.Body className=\"NewAccountModalBody\">\n          {/* <section className=\"registration\"> */}\n          <form className=\"NewAccountRegistrationModalForm\">\n            <p>Welcome! Claim your account to keep all your servers and chats even after you close the browser.</p>\n            <div className=\"email\">\n              {/* <p>E-mail:</p> */}\n              <SignInInput\n                name=\"Email\"\n                placeholder=\"email\"\n                {...email}\n                reset={undefined}\n                handleLogin={handleRegister}\n                className=\"NewAccountModalInput\"\n              />\n              {/* <input\n                  placeholder=\"email\"\n                  {...email}\n                  reset={undefined}\n                  onKeyPress={(e) => (e.key === 'Enter' ? handleRegister(e) : null)}\n                /> */}\n            </div>\n            <div className=\"password\">\n              {/* <p>Password: </p> */}\n              <SignInInput\n                name=\"Password\"\n                placeholder=\"password\"\n                {...password}\n                reset={undefined}\n                handleLogin={handleRegister}\n                className=\"NewAccountModalInput\"\n              />\n              {/* <input\n                  placeholder=\"password\"\n                  {...password}\n                  reset={undefined}\n                  onKeyPress={(e) => (e.key === 'Enter' ? handleRegister(e) : null)}\n                /> */}\n            </div>\n          </form>\n          <div className=\"guestRegisterModalButtons\">\n            <Button className=\"guestRegisterModalCloseButton\" onClick={handleClose}>\n              Close\n            </Button>\n            <Button variant=\"primary\" onClick={handleRegister}>\n              Register\n            </Button>\n          </div>\n          {/* </section> */}\n        </Modal.Body>\n        <Modal.Footer className=\"modalFooter\">\n          {/* <div className=\"modalFooter\"> */}\n          <div className=\"modalDivider\">\n            <p> ------------- Login With Google ------------- </p>\n          </div>\n          <div className=\"guestModalGoogleLoginButton\">\n            <GoogleLogin className=\"googleLogin\" setState={setState} />\n          </div>\n          {/* </div> */}\n        </Modal.Footer>\n      </Modal>\n    </div>\n  );\n};\n\nexport default GuestRegisterBanner;\n"]},"metadata":{},"sourceType":"module"}