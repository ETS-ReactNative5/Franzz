{"ast":null,"code":"import _regeneratorRuntime from\"/home/hei/Documents/finals/JEK/client/node_modules/@babel/runtime/regenerator\";import _objectSpread from\"/home/hei/Documents/finals/JEK/client/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"/home/hei/Documents/finals/JEK/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";/* eslint-disable react/no-unescaped-entities */import React from'react';import TextField from'@material-ui/core/TextField';import Button from'@material-ui/core/Button';import{useField}from'../../../hooks/useField';import auth from'../../../service/authService';var Username=function Username(_ref){var setState=_ref.setState;var username=useField('text');var handleLogin=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var guestObj;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();guestObj={username:username.value};auth.guestLogin(guestObj).then(function(loggedIn){if(loggedIn){setState(function(prev){return _objectSpread({},prev,{authorization:window.localStorage.getItem('authorization'),username:window.localStorage.getItem('username'),currentUser:window.localStorage.getItem('userID'),guest:window.localStorage.getItem('guest')});});}});case 3:case\"end\":return _context.stop();}}},_callee);}));return function handleLogin(_x){return _ref2.apply(this,arguments);};}();return React.createElement(\"div\",{className:\"usernameLogin\"},React.createElement(\"form\",null,React.createElement(TextField,Object.assign({placeholder:\"username\",id:\"outlined-basic\",variant:\"outlined\",label:\"Username\"},username,{reset:undefined,onKeyPress:function onKeyPress(e){return e.key==='Enter'?handleLogin(e):null;}})),React.createElement(Button,{variant:\"outlined\",onClick:function onClick(e){return handleLogin(e);}},\"guest login\")));};export default Username;","map":{"version":3,"sources":["/home/hei/Documents/finals/JEK/client/src/components/Landing/Login/Username.js"],"names":["React","TextField","Button","useField","auth","Username","setState","username","handleLogin","e","preventDefault","guestObj","value","guestLogin","then","loggedIn","prev","authorization","window","localStorage","getItem","currentUser","guest","undefined","key"],"mappings":"oWAAA,gDACA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,SAAP,KAAsB,6BAAtB,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CACA,OAASC,QAAT,KAAyB,yBAAzB,CACA,MAAOC,CAAAA,IAAP,KAAiB,8BAAjB,CAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,MAAkB,IAAfC,CAAAA,QAAe,MAAfA,QAAe,CACjC,GAAMC,CAAAA,QAAQ,CAAGJ,QAAQ,CAAC,MAAD,CAAzB,CACA,GAAMK,CAAAA,WAAW,2FAAG,iBAAOC,CAAP,+HAClBA,CAAC,CAACC,cAAF,GACMC,QAFY,CAED,CACfJ,QAAQ,CAAEA,QAAQ,CAACK,KADJ,CAFC,CAKlBR,IAAI,CACDS,UADH,CACcF,QADd,EAEGG,IAFH,CAEQ,SAACC,QAAD,CAAc,CAClB,GAAIA,QAAJ,CAAc,CACZT,QAAQ,CAAC,SAACU,IAAD,0BACJA,IADI,EAEPC,aAAa,CAAEC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,eAA5B,CAFR,CAGPb,QAAQ,CAAEW,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,UAA5B,CAHH,CAIPC,WAAW,CAAEH,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,QAA5B,CAJN,CAKPE,KAAK,CAAEJ,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,OAA5B,CALA,IAAD,CAAR,CAOD,CACF,CAZH,EALkB,sDAAH,kBAAXZ,CAAAA,WAAW,6CAAjB,CAoBA,MACE,4BAAK,SAAS,CAAC,eAAf,EACE,gCACE,oBAAC,SAAD,gBACE,WAAW,CAAC,UADd,CAEE,EAAE,CAAC,gBAFL,CAGE,OAAO,CAAC,UAHV,CAIE,KAAK,CAAC,UAJR,EAKMD,QALN,EAME,KAAK,CAAEgB,SANT,CAOE,UAAU,CAAE,oBAACd,CAAD,QAAQA,CAAAA,CAAC,CAACe,GAAF,GAAU,OAAV,CAAoBhB,WAAW,CAACC,CAAD,CAA/B,CAAqC,IAA7C,EAPd,GADF,CAUE,oBAAC,MAAD,EAAQ,OAAO,CAAC,UAAhB,CAA2B,OAAO,CAAE,iBAACA,CAAD,QAAOD,CAAAA,WAAW,CAACC,CAAD,CAAlB,EAApC,gBAVF,CADF,CADF,CAkBD,CAxCD,CA0CA,cAAeJ,CAAAA,QAAf","sourcesContent":["/* eslint-disable react/no-unescaped-entities */\nimport React from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport { useField } from '../../../hooks/useField';\nimport auth from '../../../service/authService';\n\nconst Username = ({ setState }) => {\n  const username = useField('text');\n  const handleLogin = async (e) => {\n    e.preventDefault();\n    const guestObj = {\n      username: username.value,\n    };\n    auth\n      .guestLogin(guestObj)\n      .then((loggedIn) => {\n        if (loggedIn) {\n          setState((prev) => ({\n            ...prev,\n            authorization: window.localStorage.getItem('authorization'),\n            username: window.localStorage.getItem('username'),\n            currentUser: window.localStorage.getItem('userID'),\n            guest: window.localStorage.getItem('guest'),\n          }));\n        }\n      });\n  };\n\n  return (\n    <div className=\"usernameLogin\">\n      <form>\n        <TextField\n          placeholder=\"username\"\n          id=\"outlined-basic\"\n          variant=\"outlined\"\n          label=\"Username\"\n          {...username}\n          reset={undefined}\n          onKeyPress={(e) => (e.key === 'Enter' ? handleLogin(e) : null)}\n        />\n        <Button variant=\"outlined\" onClick={(e) => handleLogin(e)}>\n          guest login\n        </Button>\n      </form>\n    </div>\n  );\n};\n\nexport default Username;\n"]},"metadata":{},"sourceType":"module"}