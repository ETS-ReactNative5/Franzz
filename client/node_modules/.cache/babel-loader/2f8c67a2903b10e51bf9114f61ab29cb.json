{"ast":null,"code":"import _objectSpread from\"/home/hei/Documents/finals/JEK/client/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/hei/Documents/finals/JEK/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import Modal from'react-bootstrap/Modal';import Button from'@material-ui/core/Button';import TextField from'@material-ui/core/TextField';import{useField}from'../../hooks/useField';import auth from'../../service/authService';import GoogleLogin from'../Landing/Login/GoogleLogin';var GuestRegisterBanner=function GuestRegisterBanner(_ref){var setState=_ref.setState;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),show=_useState2[0],setShow=_useState2[1];var email=useField('text');var password=useField('password');var handleClose=function handleClose(){return setShow(false);};var handleShow=function handleShow(){return setShow(true);};var handleRegister=function handleRegister(e){e.preventDefault();var registerObj={email:email.value,password:password.value};auth.register(registerObj).then(function(registered){if(registered){setState(function(prev){return _objectSpread({},prev,{authorization:window.localStorage.getItem('authorization'),username:window.localStorage.getItem('username'),currentUser:window.localStorage.getItem('userID'),guest:localStorage.getItem('guest')});});}});};return React.createElement(\"div\",null,React.createElement(\"div\",{className:\"guestRegisterBanner\",role:\"button\",tabIndex:0,onKeyPress:function onKeyPress(e){return e.preventDefault();},onClick:function onClick(e){return handleShow(e);}},React.createElement(\"p\",{className:\"bannerMessage\"},\"If you wish to save your username and chats the next time you visit, click here to create an account!\")),React.createElement(Modal,{show:show,onHide:handleClose,className:\"NewAccountModal\"},React.createElement(Modal.Header,{closeButton:true},React.createElement(Modal.Title,null)),React.createElement(Modal.Body,{className:\"NewAccountModalBody\"},React.createElement(\"form\",{className:\"NewAccountRegistrationModalForm\"},React.createElement(\"p\",null,\"Welcome! Claim your account to keep all your servers and chats even after you close the browser.\"),React.createElement(\"div\",{className:\"email\"},React.createElement(TextField,Object.assign({name:\"email\",label:\"email\",placeholder:\"email\"},email,{reset:undefined,onKeyPress:function onKeyPress(e){return e.key==='Enter'?handleRegister(e):null;},variant:\"outlined\",className:\"NewAccountModalInput\"}))),React.createElement(\"div\",{className:\"password\"},React.createElement(TextField,Object.assign({name:\"password\",label:\"password\",placeholder:\"password\"},password,{reset:undefined,onKeyPress:function onKeyPress(e){return e.key==='Enter'?handleRegister(e):null;},variant:\"outlined\",className:\"NewAccountModalInput\"})))),React.createElement(\"div\",{className:\"guestRegisterModalButtons\"},React.createElement(Button,{className:\"guestRegisterModalCloseButton\",onClick:handleClose},\"Close\"),React.createElement(Button,{variant:\"primary\",onClick:handleRegister},\"Register\"))),React.createElement(Modal.Footer,{className:\"modalFooter\"},React.createElement(\"div\",{className:\"modalDivider\"},React.createElement(\"p\",null,\" ------------- Login With Google ------------- \")),React.createElement(\"div\",{className:\"guestModalGoogleLoginButton\"},React.createElement(GoogleLogin,{className:\"googleLogin\",setState:setState})))));};export default GuestRegisterBanner;","map":{"version":3,"sources":["/home/hei/Documents/finals/JEK/client/src/components/Navbar/GuestRegisterBanner.js"],"names":["React","useState","Modal","Button","TextField","useField","auth","GoogleLogin","GuestRegisterBanner","setState","show","setShow","email","password","handleClose","handleShow","handleRegister","e","preventDefault","registerObj","value","register","then","registered","prev","authorization","window","localStorage","getItem","username","currentUser","guest","undefined","key"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport Modal from 'react-bootstrap/Modal';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport { useField } from '../../hooks/useField';\nimport auth from '../../service/authService';\nimport GoogleLogin from '../Landing/Login/GoogleLogin';\n\nconst GuestRegisterBanner = ({ setState }) => {\n  const [show, setShow] = useState(false);\n\n  const email = useField('text');\n  const password = useField('password');\n\n  const handleClose = () => setShow(false);\n  const handleShow = () => setShow(true);\n\n  const handleRegister = (e) => {\n    e.preventDefault();\n    const registerObj = {\n      email: email.value,\n      password: password.value,\n    };\n    auth\n      .register(registerObj)\n      .then((registered) => {\n        if (registered) {\n          setState((prev) => ({\n            ...prev,\n            authorization: window.localStorage.getItem('authorization'),\n            username: window.localStorage.getItem('username'),\n            currentUser: window.localStorage.getItem('userID'),\n            guest: localStorage.getItem('guest'),\n          }));\n        }\n      });\n  };\n\n  return (\n    <div>\n      <div\n        className=\"guestRegisterBanner\"\n        role=\"button\"\n        tabIndex={0}\n        onKeyPress={(e) => e.preventDefault()}\n        onClick={(e) => handleShow(e)}\n      >\n        <p className=\"bannerMessage\">If you wish to save your username and chats the next time you visit, click here to create an account!</p>\n      </div>\n\n      <Modal show={show} onHide={handleClose} className=\"NewAccountModal\">\n        <Modal.Header closeButton>\n          <Modal.Title></Modal.Title>\n        </Modal.Header>\n        <Modal.Body className=\"NewAccountModalBody\">\n          <form className=\"NewAccountRegistrationModalForm\">\n            <p>\n              Welcome! Claim your account to keep all your servers and chats even after you close the browser.\n            </p>\n            <div className=\"email\">\n              <TextField\n                name=\"email\"\n                label=\"email\"\n                placeholder=\"email\"\n                {...email}\n                reset={undefined}\n                onKeyPress={(e) => (e.key === 'Enter' ? handleRegister(e) : null)}\n                variant=\"outlined\"\n                className=\"NewAccountModalInput\"\n              />\n            </div>\n            <div className=\"password\">\n              <TextField\n                name=\"password\"\n                label=\"password\"\n                placeholder=\"password\"\n                {...password}\n                reset={undefined}\n                onKeyPress={(e) => (e.key === 'Enter' ? handleRegister(e) : null)}\n                variant=\"outlined\"\n                className=\"NewAccountModalInput\"\n              />\n            </div>\n          </form>\n          <div className=\"guestRegisterModalButtons\">\n            <Button className=\"guestRegisterModalCloseButton\" onClick={handleClose}>\n              Close\n            </Button>\n            <Button variant=\"primary\" onClick={handleRegister}>\n              Register\n            </Button>\n          </div>\n        </Modal.Body>\n        <Modal.Footer className=\"modalFooter\">\n          {/* <div className=\"modalFooter\"> */}\n          <div className=\"modalDivider\">\n            <p> ------------- Login With Google ------------- </p>\n          </div>\n          <div className=\"guestModalGoogleLoginButton\">\n            <GoogleLogin className=\"googleLogin\" setState={setState} />\n          </div>\n        </Modal.Footer>\n      </Modal>\n    </div>\n  );\n};\n\nexport default GuestRegisterBanner;\n"]},"metadata":{},"sourceType":"module"}