{"ast":null,"code":"import _objectSpread from\"/home/hei/Documents/finals/JEK/client/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/hei/Documents/finals/JEK/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import'bootstrap/dist/css/bootstrap.min.css';import{BrowserRouter as Router,Route,Redirect// useParams,\n}from'react-router-dom';import Landing from'./components/Landing/Landing';import Home from'./components/Home/Home';import NavBar from'./components/Navbar/NavBar';var App=function App(){// state of the client app\nvar _useState=useState({guest:true,currentUser:'',currentChannel:'',authorization:'',username:'',channelStates:{},locations:{},center:{},users:{},videoStates:{},loaded:false,currentChannelLoaded:false,newChannelForm:false,lines:{}}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];// logout resets app\nvar logOut=function logOut(){window.localStorage.clear();setState({guest:true,currentUser:'',currentChannel:'',authorization:'',username:'',channelStates:{},locations:{},center:{},users:{},videoStates:{},loaded:false,currentChannelLoaded:false,newChannelForm:false,lines:{}});};useEffect(function(){// load the data if the user was already logged in\nsetState(function(prev){return _objectSpread({},prev,{authorization:window.localStorage.getItem('authorization'),username:window.localStorage.getItem('username'),guest:window.localStorage.getItem('guest'),currentUser:window.localStorage.getItem('userID')});});},[]);return React.createElement(\"div\",{id:\"app\"},React.createElement(Router,null,React.createElement(NavBar,{logOut:logOut,state:state,setState:setState}),React.createElement(Route,{exact:true,path:\"/\",render:function render(){return state.authorization?React.createElement(Redirect,{to:\"/home\"}):React.createElement(Landing,{setState:setState});}}),React.createElement(Route,{exact:true,from:\"/home\",render:function render(){return state.authorization?React.createElement(Home,{state:state,setState:setState}):React.createElement(Redirect,{to:\"/\"});}})));};export default App;","map":{"version":3,"sources":["/home/hei/Documents/finals/JEK/client/src/App.js"],"names":["React","useState","useEffect","BrowserRouter","Router","Route","Redirect","Landing","Home","NavBar","App","guest","currentUser","currentChannel","authorization","username","channelStates","locations","center","users","videoStates","loaded","currentChannelLoaded","newChannelForm","lines","state","setState","logOut","window","localStorage","clear","prev","getItem"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport {\n  BrowserRouter as Router,\n  Route,\n  Redirect,\n  // useParams,\n} from 'react-router-dom';\nimport Landing from './components/Landing/Landing';\nimport Home from './components/Home/Home';\nimport NavBar from './components/Navbar/NavBar';\n\nconst App = () => {\n  // state of the client app\n  const [state, setState] = useState({\n    guest: true,\n    currentUser: '',\n    currentChannel: '',\n    authorization: '',\n    username: '',\n    channelStates: {},\n    locations: {},\n    center: {},\n    users: {},\n    videoStates: {},\n    loaded: false,\n    currentChannelLoaded: false,\n    newChannelForm: false,\n    lines: {},\n  });\n\n  // logout resets app\n  const logOut = () => {\n    window.localStorage.clear();\n    setState({\n      guest: true,\n      currentUser: '',\n      currentChannel: '',\n      authorization: '',\n      username: '',\n      channelStates: {},\n      locations: {},\n      center: {},\n      users: {},\n      videoStates: {},\n      loaded: false,\n      currentChannelLoaded: false,\n      newChannelForm: false,\n      lines: {},\n    });\n  };\n\n  useEffect(() => {\n    // load the data if the user was already logged in\n    setState((prev) => ({\n      ...prev,\n      authorization: window.localStorage.getItem('authorization'),\n      username: window.localStorage.getItem('username'),\n      guest: window.localStorage.getItem('guest'),\n      currentUser: window.localStorage.getItem('userID'),\n    }));\n  }, []);\n\n  return (\n    <div id=\"app\">\n      <Router>\n        <NavBar\n          logOut={logOut}\n          state={state}\n          setState={setState}\n        />\n        <Route\n          exact\n          path=\"/\"\n          render={() => (\n            state.authorization\n              ? <Redirect to=\"/home\" />\n              : (\n                <Landing\n                  setState={setState}\n                />\n              )\n          )}\n        />\n        <Route\n          exact\n          from=\"/home\"\n          render={() => (\n            state.authorization\n              ? (\n                <Home\n                  state={state}\n                  setState={setState}\n                />\n              )\n              : <Redirect to=\"/\" />\n          )}\n        />\n      </Router>\n    </div>\n  );\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}