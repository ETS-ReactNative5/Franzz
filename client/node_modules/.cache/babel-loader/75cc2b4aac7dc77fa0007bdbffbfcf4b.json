{"ast":null,"code":"var _jsxFileName = \"/home/hei/Documents/finals/JEK/client/src/components/Home/Channel/Container/Chat/TextContainer.js\";\n\n/* eslint-disable react/prop-types */\nimport React, { useState } from 'react';\nimport ScrollToBottom from 'react-scroll-to-bottom';\nimport { LinearProgress } from '@material-ui/core';\nimport Message from './Message';\nimport './TextContainer.css'; // Scripting work for adding photos to the cloud through the text container\n\nimport useChangeHighlightClass from '../../../../../hooks/useHighlightClass';\nimport { preventDefaults, handleDrop } from '../../Modules/Photos/Scripts/DragAndDropPhotos';\n\nconst TextContainer = ({\n  messages,\n  deleteMessage,\n  channelId,\n  emitSendMessage,\n  currentUser\n}) => {\n  // Used to highlight the box when dragging photos in\n  const {\n    highlightClass,\n    changeHighlightClass\n  } = useChangeHighlightClass('');\n  const [showProgress, toggleProgress] = useState(false);\n  const formattedMessages = messages.map(msg => React.createElement(Message, {\n    key: msg.id,\n    id: msg.id,\n    message: msg.message,\n    created: msg.created,\n    username: msg.user.username,\n    currentUser: currentUser,\n    isCurrent: msg.user.id === currentUser,\n    userId: msg.user.id,\n    deleteMessage: deleteMessage,\n    video: msg.video,\n    image: msg.image,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23\n    },\n    __self: this\n  })); // Changes the class depending on the event\n  // and tracks event\n\n  function boxEvent(e) {\n    changeHighlightClass(e.type);\n    preventDefaults(e);\n  }\n\n  function dropFile(e) {\n    preventDefaults(e);\n    toggleProgress(true);\n    changeHighlightClass(e.type);\n    handleDrop(e, channelId, 'chat', emitSendMessage);\n    setTimeout(() => {\n      toggleProgress(false);\n    }, 2000);\n  }\n\n  return React.createElement(\"div\", {\n    onDragEnter: boxEvent,\n    onDragLeave: boxEvent,\n    onDragOver: boxEvent,\n    onDrop: dropFile,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, React.createElement(ScrollToBottom, {\n    id: \"drop-area\",\n    className: `textContainer ${highlightClass}`,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, formattedMessages), showProgress && React.createElement(LinearProgress, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }));\n};\n\nexport default TextContainer;","map":{"version":3,"sources":["/home/hei/Documents/finals/JEK/client/src/components/Home/Channel/Container/Chat/TextContainer.js"],"names":["React","useState","ScrollToBottom","LinearProgress","Message","useChangeHighlightClass","preventDefaults","handleDrop","TextContainer","messages","deleteMessage","channelId","emitSendMessage","currentUser","highlightClass","changeHighlightClass","showProgress","toggleProgress","formattedMessages","map","msg","id","message","created","user","username","video","image","boxEvent","e","type","dropFile","setTimeout"],"mappings":";;AAAA;AACA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,cAAP,MAA2B,wBAA3B;AACA,SAASC,cAAT,QAA+B,mBAA/B;AACA,OAAOC,OAAP,MAAoB,WAApB;AAGA,OAAO,qBAAP,C,CAEA;;AACA,OAAOC,uBAAP,MAAoC,wCAApC;AACA,SAASC,eAAT,EAA0BC,UAA1B,QAA4C,gDAA5C;;AAEA,MAAMC,aAAa,GAAG,CAAC;AACrBC,EAAAA,QADqB;AACXC,EAAAA,aADW;AACIC,EAAAA,SADJ;AACeC,EAAAA,eADf;AACgCC,EAAAA;AADhC,CAAD,KAEhB;AACJ;AACA,QAAM;AAAEC,IAAAA,cAAF;AAAkBC,IAAAA;AAAlB,MAA2CV,uBAAuB,CAAC,EAAD,CAAxE;AACA,QAAM,CAACW,YAAD,EAAeC,cAAf,IAAiChB,QAAQ,CAAC,KAAD,CAA/C;AAGA,QAAMiB,iBAAiB,GAAGT,QAAQ,CAACU,GAAT,CAAcC,GAAD,IACrC,oBAAC,OAAD;AACE,IAAA,GAAG,EAAEA,GAAG,CAACC,EADX;AAEE,IAAA,EAAE,EAAED,GAAG,CAACC,EAFV;AAGE,IAAA,OAAO,EAAED,GAAG,CAACE,OAHf;AAIE,IAAA,OAAO,EAAEF,GAAG,CAACG,OAJf;AAKE,IAAA,QAAQ,EAAEH,GAAG,CAACI,IAAJ,CAASC,QALrB;AAME,IAAA,WAAW,EAAEZ,WANf;AAOE,IAAA,SAAS,EAAEO,GAAG,CAACI,IAAJ,CAASH,EAAT,KAAgBR,WAP7B;AAQE,IAAA,MAAM,EAAEO,GAAG,CAACI,IAAJ,CAASH,EARnB;AASE,IAAA,aAAa,EAAEX,aATjB;AAUE,IAAA,KAAK,EAAEU,GAAG,CAACM,KAVb;AAWE,IAAA,KAAK,EAAEN,GAAG,CAACO,KAXb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADwB,CAA1B,CANI,CAsBJ;AACA;;AACA,WAASC,QAAT,CAAkBC,CAAlB,EAAqB;AACnBd,IAAAA,oBAAoB,CAACc,CAAC,CAACC,IAAH,CAApB;AACAxB,IAAAA,eAAe,CAACuB,CAAD,CAAf;AACD;;AAED,WAASE,QAAT,CAAkBF,CAAlB,EAAqB;AACnBvB,IAAAA,eAAe,CAACuB,CAAD,CAAf;AACAZ,IAAAA,cAAc,CAAC,IAAD,CAAd;AACAF,IAAAA,oBAAoB,CAACc,CAAC,CAACC,IAAH,CAApB;AACAvB,IAAAA,UAAU,CAACsB,CAAD,EAAIlB,SAAJ,EAAe,MAAf,EAAuBC,eAAvB,CAAV;AACAoB,IAAAA,UAAU,CAAC,MAAM;AACff,MAAAA,cAAc,CAAC,KAAD,CAAd;AACD,KAFS,EAEP,IAFO,CAAV;AAGD;;AAGD,SACE;AACE,IAAA,WAAW,EAAEW,QADf;AAEE,IAAA,WAAW,EAAEA,QAFf;AAGE,IAAA,UAAU,EAAEA,QAHd;AAIE,IAAA,MAAM,EAAEG,QAJV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAME,oBAAC,cAAD;AACE,IAAA,EAAE,EAAC,WADL;AAEE,IAAA,SAAS,EAAG,iBAAgBjB,cAAe,EAF7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAIGI,iBAJH,CANF,EAYGF,YAAY,IAAI,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAZnB,CADF;AAgBD,CA1DD;;AA4DA,eAAeR,aAAf","sourcesContent":["/* eslint-disable react/prop-types */\nimport React, { useState } from 'react';\nimport ScrollToBottom from 'react-scroll-to-bottom';\nimport { LinearProgress } from '@material-ui/core';\nimport Message from './Message';\n\n\nimport './TextContainer.css';\n\n// Scripting work for adding photos to the cloud through the text container\nimport useChangeHighlightClass from '../../../../../hooks/useHighlightClass';\nimport { preventDefaults, handleDrop } from '../../Modules/Photos/Scripts/DragAndDropPhotos';\n\nconst TextContainer = ({\n  messages, deleteMessage, channelId, emitSendMessage, currentUser,\n}) => {\n  // Used to highlight the box when dragging photos in\n  const { highlightClass, changeHighlightClass } = useChangeHighlightClass('');\n  const [showProgress, toggleProgress] = useState(false);\n\n\n  const formattedMessages = messages.map((msg) => (\n    <Message\n      key={msg.id}\n      id={msg.id}\n      message={msg.message}\n      created={msg.created}\n      username={msg.user.username}\n      currentUser={currentUser}\n      isCurrent={msg.user.id === currentUser}\n      userId={msg.user.id}\n      deleteMessage={deleteMessage}\n      video={msg.video}\n      image={msg.image}\n    />\n  ));\n\n  // Changes the class depending on the event\n  // and tracks event\n  function boxEvent(e) {\n    changeHighlightClass(e.type);\n    preventDefaults(e);\n  }\n\n  function dropFile(e) {\n    preventDefaults(e);\n    toggleProgress(true);\n    changeHighlightClass(e.type);\n    handleDrop(e, channelId, 'chat', emitSendMessage);\n    setTimeout(() => {\n      toggleProgress(false);\n    }, 2000);\n  }\n\n\n  return (\n    <div\n      onDragEnter={boxEvent}\n      onDragLeave={boxEvent}\n      onDragOver={boxEvent}\n      onDrop={dropFile}\n    >\n      <ScrollToBottom\n        id=\"drop-area\"\n        className={`textContainer ${highlightClass}`}\n      >\n        {formattedMessages}\n      </ScrollToBottom>\n      {showProgress && <LinearProgress />}\n    </div>\n  );\n};\n\nexport default TextContainer;\n"]},"metadata":{},"sourceType":"module"}