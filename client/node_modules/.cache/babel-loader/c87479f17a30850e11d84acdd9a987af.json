{"ast":null,"code":"import _objectSpread from\"/home/hei/Documents/finals/JEK/client/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React from'react';import Button from'@material-ui/core/Button';import TextField from'@material-ui/core/TextField';import{useField}from'../../../hooks/useField';import auth from'../../../service/authService';var NormalLogin=function NormalLogin(_ref){var setState=_ref.setState;var email=useField('text');var password=useField('password');var handleLogin=function handleLogin(e){e.preventDefault();var loginObj={email:email.value,password:password.value};auth.login(loginObj).then(function(loggedIn){if(loggedIn){setState(function(prev){return _objectSpread({},prev,{authorization:window.localStorage.getItem('authorization'),username:window.localStorage.getItem('username'),guest:window.localStorage.getItem('guest'),currentUser:window.localStorage.getItem('userID')});});}});};return React.createElement(\"div\",{className:\"normalLogin\"},React.createElement(\"form\",null,React.createElement(TextField,Object.assign({placeholder:\"email\",label:\"E-mail\",id:\"outlined-basic\",variant:\"outlined\"},email,{reset:undefined,onKeyPress:function onKeyPress(e){return e.key==='Enter'?handleLogin(e):null;}})),React.createElement(TextField,Object.assign({placeholder:\"password\",labal:\"Password\",id:\"outlined-basic\",variant:\"outlined\"},password,{reset:undefined,onKeyPress:function onKeyPress(e){return e.key==='Enter'?handleLogin(e):null;}})),React.createElement(Button,{variant:\"outlined\",type:\"button\",onClick:handleLogin},\"Login\")));};export default NormalLogin;","map":{"version":3,"sources":["/home/hei/Documents/finals/JEK/client/src/components/Landing/Login/NormalLogin.js"],"names":["React","Button","TextField","useField","auth","NormalLogin","setState","email","password","handleLogin","e","preventDefault","loginObj","value","login","then","loggedIn","prev","authorization","window","localStorage","getItem","username","guest","currentUser","undefined","key"],"mappings":"uHAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CACA,MAAOC,CAAAA,SAAP,KAAsB,6BAAtB,CACA,OAASC,QAAT,KAAyB,yBAAzB,CACA,MAAOC,CAAAA,IAAP,KAAiB,8BAAjB,CAEA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,MAAkB,IAAfC,CAAAA,QAAe,MAAfA,QAAe,CACpC,GAAMC,CAAAA,KAAK,CAAGJ,QAAQ,CAAC,MAAD,CAAtB,CACA,GAAMK,CAAAA,QAAQ,CAAGL,QAAQ,CAAC,UAAD,CAAzB,CACA,GAAMM,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,CAAD,CAAO,CACzBA,CAAC,CAACC,cAAF,GACA,GAAMC,CAAAA,QAAQ,CAAG,CACfL,KAAK,CAAEA,KAAK,CAACM,KADE,CAEfL,QAAQ,CAAEA,QAAQ,CAACK,KAFJ,CAAjB,CAIAT,IAAI,CACDU,KADH,CACSF,QADT,EAEGG,IAFH,CAEQ,SAACC,QAAD,CAAc,CAClB,GAAIA,QAAJ,CAAc,CACZV,QAAQ,CAAC,SAACW,IAAD,0BACJA,IADI,EAEPC,aAAa,CAAEC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,eAA5B,CAFR,CAGPC,QAAQ,CAAEH,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,UAA5B,CAHH,CAIPE,KAAK,CAAEJ,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,OAA5B,CAJA,CAKPG,WAAW,CAAEL,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,QAA5B,CALN,IAAD,CAAR,CAOD,CACF,CAZH,EAaD,CAnBD,CAqBA,MACE,4BAAK,SAAS,CAAC,aAAf,EACE,gCACE,oBAAC,SAAD,gBACE,WAAW,CAAC,OADd,CAEE,KAAK,CAAC,QAFR,CAGE,EAAE,CAAC,gBAHL,CAIE,OAAO,CAAC,UAJV,EAKMd,KALN,EAME,KAAK,CAAEkB,SANT,CAOE,UAAU,CAAE,oBAACf,CAAD,QAAQA,CAAAA,CAAC,CAACgB,GAAF,GAAU,OAAV,CAAoBjB,WAAW,CAACC,CAAD,CAA/B,CAAqC,IAA7C,EAPd,GADF,CAUE,oBAAC,SAAD,gBACE,WAAW,CAAC,UADd,CAEE,KAAK,CAAC,UAFR,CAGE,EAAE,CAAC,gBAHL,CAIE,OAAO,CAAC,UAJV,EAKMF,QALN,EAME,KAAK,CAAEiB,SANT,CAOE,UAAU,CAAE,oBAACf,CAAD,QAAQA,CAAAA,CAAC,CAACgB,GAAF,GAAU,OAAV,CAAoBjB,WAAW,CAACC,CAAD,CAA/B,CAAqC,IAA7C,EAPd,GAVF,CAmBE,oBAAC,MAAD,EACE,OAAO,CAAC,UADV,CAEE,IAAI,CAAC,QAFP,CAGE,OAAO,CAAED,WAHX,UAnBF,CADF,CADF,CA+BD,CAvDD,CAyDA,cAAeJ,CAAAA,WAAf","sourcesContent":["import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport { useField } from '../../../hooks/useField';\nimport auth from '../../../service/authService';\n\nconst NormalLogin = ({ setState }) => {\n  const email = useField('text');\n  const password = useField('password');\n  const handleLogin = (e) => {\n    e.preventDefault();\n    const loginObj = {\n      email: email.value,\n      password: password.value,\n    };\n    auth\n      .login(loginObj)\n      .then((loggedIn) => {\n        if (loggedIn) {\n          setState((prev) => ({\n            ...prev,\n            authorization: window.localStorage.getItem('authorization'),\n            username: window.localStorage.getItem('username'),\n            guest: window.localStorage.getItem('guest'),\n            currentUser: window.localStorage.getItem('userID'),\n          }));\n        }\n      });\n  };\n\n  return (\n    <div className=\"normalLogin\">\n      <form>\n        <TextField\n          placeholder=\"email\"\n          label=\"E-mail\"\n          id=\"outlined-basic\"\n          variant=\"outlined\"\n          {...email}\n          reset={undefined}\n          onKeyPress={(e) => (e.key === 'Enter' ? handleLogin(e) : null)}\n        />\n        <TextField\n          placeholder=\"password\"\n          labal=\"Password\"\n          id=\"outlined-basic\"\n          variant=\"outlined\"\n          {...password}\n          reset={undefined}\n          onKeyPress={(e) => (e.key === 'Enter' ? handleLogin(e) : null)}\n        />\n        <Button\n          variant=\"outlined\"\n          type=\"button\"\n          onClick={handleLogin}\n        >\n          Login\n        </Button>\n      </form>\n    </div>\n  );\n};\n\nexport default NormalLogin;\n"]},"metadata":{},"sourceType":"module"}