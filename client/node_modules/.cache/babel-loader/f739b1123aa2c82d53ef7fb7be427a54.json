{"ast":null,"code":"/* eslint-disable import/prefer-default-export */\nimport axios from 'axios';\nconst serverURL = 'http://localhost:8001/api'; // const serverURL = 'https://arcane-bastion-72484.herokuapp.com/api';\n\nconst setLocalStorage = data => {\n  const {\n    error,\n    token,\n    username,\n    guest,\n    userID\n  } = data;\n\n  if (error) {\n    console.log(error);\n    return false;\n  }\n\n  console.log(data);\n  window.localStorage.setItem('authorization', token);\n  window.localStorage.setItem('username', username);\n  window.localStorage.setItem('guest', guest);\n  window.localStorage.setItem('userID', userID);\n  return true;\n};\n\nconst login = async loginObj => {\n  const res = await axios.post(`${serverURL}/auth/login`, loginObj);\n  return setLocalStorage(res.data);\n};\n\nconst register = async registerObj => {\n  const config = {\n    headers: {\n      authorization: window.localStorage.authorization\n    }\n  };\n  const res = await axios.post(`${serverURL}/auth/register`, registerObj, config);\n  return setLocalStorage(res.data);\n};\n\nconst guestLogin = async guestObj => {\n  const res = await axios.post(`${serverURL}/auth/guest`, guestObj);\n  return setLocalStorage(res.data);\n};\n\nexport default {\n  register,\n  guestLogin,\n  login,\n  setLocalStorage\n};","map":{"version":3,"sources":["/home/hei/Documents/finals/JEK/client/src/service/authService.js"],"names":["axios","serverURL","setLocalStorage","data","error","token","username","guest","userID","console","log","window","localStorage","setItem","login","loginObj","res","post","register","registerObj","config","headers","authorization","guestLogin","guestObj"],"mappings":"AAAA;AACA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,MAAMC,SAAS,GAAG,2BAAlB,C,CACA;;AAEA,MAAMC,eAAe,GAAIC,IAAD,IAAU;AAChC,QAAM;AACJC,IAAAA,KADI;AACGC,IAAAA,KADH;AACUC,IAAAA,QADV;AACoBC,IAAAA,KADpB;AAC2BC,IAAAA;AAD3B,MAEFL,IAFJ;;AAGA,MAAIC,KAAJ,EAAW;AACTK,IAAAA,OAAO,CAACC,GAAR,CAAYN,KAAZ;AACA,WAAO,KAAP;AACD;;AACDK,EAAAA,OAAO,CAACC,GAAR,CAAYP,IAAZ;AACAQ,EAAAA,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,eAA5B,EAA6CR,KAA7C;AACAM,EAAAA,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,UAA5B,EAAwCP,QAAxC;AACAK,EAAAA,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,OAA5B,EAAqCN,KAArC;AACAI,EAAAA,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,QAA5B,EAAsCL,MAAtC;AACA,SAAO,IAAP;AACD,CAdD;;AAgBA,MAAMM,KAAK,GAAG,MAAOC,QAAP,IAAoB;AAChC,QAAMC,GAAG,GAAG,MAAMhB,KAAK,CAACiB,IAAN,CAAY,GAAEhB,SAAU,aAAxB,EAAsCc,QAAtC,CAAlB;AACA,SAAOb,eAAe,CAACc,GAAG,CAACb,IAAL,CAAtB;AACD,CAHD;;AAKA,MAAMe,QAAQ,GAAG,MAAOC,WAAP,IAAuB;AACtC,QAAMC,MAAM,GAAG;AACbC,IAAAA,OAAO,EAAE;AAAEC,MAAAA,aAAa,EAAEX,MAAM,CAACC,YAAP,CAAoBU;AAArC;AADI,GAAf;AAGA,QAAMN,GAAG,GAAG,MAAMhB,KAAK,CAACiB,IAAN,CAAY,GAAEhB,SAAU,gBAAxB,EAAyCkB,WAAzC,EAAsDC,MAAtD,CAAlB;AACA,SAAOlB,eAAe,CAACc,GAAG,CAACb,IAAL,CAAtB;AACD,CAND;;AAQA,MAAMoB,UAAU,GAAG,MAAOC,QAAP,IAAoB;AACrC,QAAMR,GAAG,GAAG,MAAMhB,KAAK,CAACiB,IAAN,CAAY,GAAEhB,SAAU,aAAxB,EAAsCuB,QAAtC,CAAlB;AACA,SAAOtB,eAAe,CAACc,GAAG,CAACb,IAAL,CAAtB;AACD,CAHD;;AAKA,eAAe;AACbe,EAAAA,QADa;AAEbK,EAAAA,UAFa;AAGbT,EAAAA,KAHa;AAIbZ,EAAAA;AAJa,CAAf","sourcesContent":["/* eslint-disable import/prefer-default-export */\nimport axios from 'axios';\n\nconst serverURL = 'http://localhost:8001/api';\n// const serverURL = 'https://arcane-bastion-72484.herokuapp.com/api';\n\nconst setLocalStorage = (data) => {\n  const {\n    error, token, username, guest, userID,\n  } = data;\n  if (error) {\n    console.log(error);\n    return false;\n  }\n  console.log(data);\n  window.localStorage.setItem('authorization', token);\n  window.localStorage.setItem('username', username);\n  window.localStorage.setItem('guest', guest);\n  window.localStorage.setItem('userID', userID);\n  return true;\n};\n\nconst login = async (loginObj) => {\n  const res = await axios.post(`${serverURL}/auth/login`, loginObj);\n  return setLocalStorage(res.data);\n};\n\nconst register = async (registerObj) => {\n  const config = {\n    headers: { authorization: window.localStorage.authorization },\n  };\n  const res = await axios.post(`${serverURL}/auth/register`, registerObj, config);\n  return setLocalStorage(res.data);\n};\n\nconst guestLogin = async (guestObj) => {\n  const res = await axios.post(`${serverURL}/auth/guest`, guestObj);\n  return setLocalStorage(res.data);\n};\n\nexport default {\n  register,\n  guestLogin,\n  login,\n  setLocalStorage,\n};\n"]},"metadata":{},"sourceType":"module"}